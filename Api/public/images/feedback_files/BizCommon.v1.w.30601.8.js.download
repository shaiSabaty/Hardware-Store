usingNamespace("Biz.Common")["ItemReserve"] = {init: function (itemNumbers, enable) {if (itemNumbers == "" || itemNumbers == undefined) {return;}if (enable == "False") {return;}var parm = "?ItemList=" + itemNumbers;jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/LoadItemReserveInfo.aspx" + parm,dataType: "jsonp",jsonp: "action",jsonpCallback: "Biz.Common.ItemReserve.JsonpCallBack"});},JsonpCallBack: function (data) {jQuery(data).each(function (index, el) {var id = el.id;jQuery("#" + id).html(el.innerHTML);var stockLeft = jQuery("#" + id + " .item-stock-number").text();if (stockLeft === "0% Left") {var dom = jQuery("#" + id).siblings(".item-info").find(".price");if (!jQuery(dom).hasClass("is-price-soldout")) {jQuery(dom).addClass("is-price-soldout");var current = jQuery(dom).children(".price-current");jQuery(current).children(".price-current-label").html("Sold Out ");jQuery(current).children(".price-current-label").after("(");jQuery(current).children("sup").after(")");}}});}};usingNamespace("Biz.Polls")["checkOption"] = function (o, v) {Web.UI.Form.setValue("braFormYouTellUs", "viewPoll", v);if ((v == "0" && o && !String.isNullOrEmpty(o.value)) || v == "1") {Web.UI.Form.submit("braFormYouTellUs");};};usingNamespace("Biz.Common")["MyCountry"] = function (hasNVTC, sucesscallback, failcallback) {var isSupportSessionStorage = function () {try {sessionStorage.setItem('s_MyCountry1', '1');sessionStorage.removeItem('s_MyCountry1');return true;} catch (x) {return false;}};if (hasNVTC && isSupportSessionStorage() && sessionStorage.getItem('s_mycounrty') && typeof sucesscallback == "function") {sucesscallback(JSON.parse(sessionStorage.getItem('s_mycounrty')));return;}var ipCountryUrl = "https://" + window.location.host + "/mycountry";jQuery.ajax({type: "GET",url: ipCountryUrl,dataType: "json",timeout: 2000,success: function (data) {if (isSupportSessionStorage()) {delete data.ip;sessionStorage.setItem('s_mycounrty', JSON.stringify(data));}if (typeof sucesscallback == "function") {sucesscallback(data);}}}).fail(function (xhr, status, errorThrown) {if (typeof failcallback == "function") {failcallback(xhr, status, errorThrown);}});};usingNamespace("Biz.Common")["NewsletterSingup"] = {sflag: false,verify: function (f) {var msg, errorMsg;var emptyField = "";f = eval("document." + f);if (String.isNullOrEmpty(f.LoginName.value)) {errorMsg = "- " + Web.Lang.emailFieldEmpty;emptyField += "\n" + errorMsg;} else if (!Biz.Common.Validation.isEmail(f.LoginName.value)) {errorMsg = "- " + Web.Lang.emailAddressInvalid;emptyField += "\n" + errorMsg;};if (!emptyField) { return true; };msg = "______________________________________________________\n\n";msg += Web.Lang.requestErrorDescription + ".\n";msg += Web.Lang.correctErrorDescription + ":\n";msg += "______________________________________________________\n";if (emptyField) {msg += emptyField + "\n\n";};alert(msg);return false;},hiddenframe: function (oid) {var o = $(oid);if (o) {Web.UI.Control.setAttribute(o, { "style.display": "none" });};},showframe: function (oid, f, fn) {var o = $(oid);if (o) {if (Biz.Common.NewsletterSingup.sflag) {Web.UI.Control.setAttribute(o, { "style.display": "" });Web.UI.Form.setValue(f, fn, Web.Lang.enterEmail);Biz.Common.NewsletterSingup.sflag = false;} else {Web.UI.Control.setAttribute(o, { "style.display": "none" });};};},nSubmit: function (f, fn) {Biz.Common.NewsletterSingup.sflag = true;var flag = Biz.Common.NewsletterSingup.verify(f);return flag;},submit: function (f) {if (Biz.Common.NewsletterSingup.verify(f)) {Web.UI.Form.submit(f);};}};usingNamespace("Biz.Common")["TopNavigation"] = {login: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {rtv.push("<span class=\"loginName\">" + loginName.encodeHtml() + "</span>");rtv.push("<span>&nbsp;[<a href=\"" + wces.Loginout + "\" rel=\"nofollow\">" + Web.Lang.logOut + "</a>]</span>");} else {rtv.push("<span class=\"loginName\">[<a href=\"" + wces.Login + "\" rel=\"nofollow\">" + Web.Lang.login + "</a>]</span>");};document.write(rtv.join(""));},cart: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}if (cartInfo.indexOf("|") > 0) {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ").replace(" | ", "&nbsp;(") + ")</a></div></span>");}else {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ") + "</a></div></span>");}} else {rtv.push("<span class=\"item toRight\"><div class=\"toLeft\"><a href=\"" + crtUrl + "\" rel=\"nofollow\">" + Web.Lang.items + "&nbsp;(" + Web.Lang.currencyCode + " 0.00)</a></div></span>");};if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {rtv.push("<span class=\"toRight\"><a href=\"" + crtUrl + "\" class=\"noline\"><img src=\"" + Web.UI.ResourceManager.Image.build("topCartFull.gif") + "\" alt=\"" + Web.Lang.shoppingCartwithItems + "\" title=\"" + Web.Lang.shoppingCartwithItems + "\" style=\"border:0;\" id=\"shoppingCart\" /></a></span>");} else {rtv.push("<span class=\"toRight\"><a href=\"" + crtUrl + "\" class=\"noline\"><img src=\"" + Web.UI.ResourceManager.Image.build("n1_topCartEmptyD.gif") + "\" alt=\"" + Web.Lang.emptyShoppingCart + "\" title=\"" + Web.Lang.emptyShoppingCart + "\" style=\"border:0;\" id=\"shoppingCart\" /></a></span>");};document.write(rtv.join(''));},b2bSiteLogoPageHeader2011: function (b2bUrl, isHomepage) {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");var HolidayHeaderBody = Web.UI.Control.getElementsByClassName("holidayHeader11", null, "body");var isHolidayHeader = HolidayHeaderBody && HolidayHeaderBody.length > 0;if (String.isNullOrEmpty(loginID) && isHomepage) {var html = "<li class=\"top-tab tab-promo plain\" >";html += "<a href='" + b2bUrl + "'><img src='" + Web.UI.ResourceManager.Image.build(isHolidayHeader ? "bnrB2Btop_264x29_holiday11.png" : "bnrB2Btop_103x22.png") + "' alt='Upgrade to Newegg Business! click here'></a>";html += "</li>";document.write(html);} else {jQuery(".top-tab .holiday-13").show();}},loginPageHeader2011: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {if (String.isNullOrEmpty(jQuery.trim(loginName))) {loginName = Web.Lang.myAccount;}if (loginName.length > 30) {loginName = loginName.substring(0, 30);};rtv.push(" <button class=\"pseudo-dropdown-button button button-tertiary has-icon-right override\"  >");rtv.push(" <i class=\"pseudo-dropdown-icon-left user button-icon-left\"></i>");rtv.push(" <span>" + loginName.encodeHtml() + "</span>");rtv.push(" <i class=\"pseudo-dropdown-icon-right button-icon-right fa fa-caret-down\"></i>");rtv.push(" </button>");} else {rtv.push("<a href=\"" + wces.Login + "\" rel=\"nofollow\" onclick=\"javascript:void(0)\"  class=\"tab-not-logged-in\">" + Web.Lang.login2011 + "</a>");};document.write(rtv.join(""));},loginPageHeader2015: function (customerNameEntrance, redSnowImage, isGlobal, todaysBestDealsUrl, isInThankyouPage) {var rtv = [];var wces = Web.Config.Environment.SSLPage;var loginName = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "CONTACTWITH");var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {var isPremier = false;var tempPremierCookie = jQuery.trim(Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ISPREMIER"));var premier2016 = jQuery("#switch_premier2016").val() == "True";if (!String.isNullOrEmpty(tempPremierCookie)) {if (tempPremierCookie == "7EqIkr/7ZPEsWgaaEVIetg==") {isPremier = true;}}if (String.isNullOrEmpty(jQuery.trim(loginName))) {loginName = Web.Lang.myAccount;}if (loginName.length > 30) {loginName = loginName.substring(0, 30);};if (Web.Config.enableAppreciationPage &&isGlobal == "False" &&todaysBestDealsUrl && redSnowImage) {rtv.push("<a class=\"holiday-snow\" title=\"Happy Holidays\"" +"href=\"" + todaysBestDealsUrl + "\"" +"onclick = \"Biz.Common.SiteCatalyst.sendForOnClick(" +"{events:'event63',eVar78:'Appreciation-header'},'header click')\" >" +"<img src=\"" + redSnowImage + "\" alt=\"Happy Holiday\" ></a>");};rtv.push(" <a href=\"javascript:void(0)\" class=\"top-nav-tab-name\">");if (isPremier && premier2016) {rtv.push(" <i class=\"icon-premier icon-premier-md\"></i>");}else {rtv.push(" <i class=\"top-nav-tab-icon fa fa-user\"></i>");}if (Web.Config.enableAppreciationPage && isGlobal == "False" &&isInThankyouPage == "False" && customerNameEntrance) {rtv.push(" <ins onclick=\"" + customerNameEntrance + "\">" + loginName.encodeHtml() + "</ins>");} else {rtv.push(" <ins>" + loginName.encodeHtml() + "</ins>");}rtv.push(" </a>");} else {rtv.push("<a href=\"" + wces.Login + "\" rel=\"nofollow\" onclick=\"javascript:void(0)\"  class=\"top-nav-tab-name logout\">" + Web.Lang.login2011 + "</a>");if (jQuery('#usaSite').find('.top-nav-menu').length > 0) {jQuery('#usaSite').find('.top-nav-menu').remove();jQuery('#usaSite').removeClass('has-menu');}};document.write(rtv.join(""));},bindHeaderToggleEvent: function () {jQuery(".top-tab > button").click(function () {if (jQuery(this).next(".tab-menu").css("display") == "block") {jQuery(this).next(".tab-menu").fadeToggle(200);} else {jQuery(".tab-menu").hide();jQuery(this).next(".tab-menu").fadeToggle(200);var timer;jQuery(this).parents("ul").hover(function (e) {clearTimeout(timer);}, function () {timer = setTimeout('jQuery(".tab-menu").hide()', 2000);});};});jQuery("body").click(function (e) {var target = e.target;if (target != undefined) target = window.target;if (!jQuery(e.target).parents("ul").hasClass("top-tabs")) {jQuery(".tab-menu").hide();};});},getRegionConfig: function (regionCode) {var regionConfig;if (Web.Config.Environment&& Web.Config.Environment.BizUnitRegion&& Web.Config.Environment.BizUnitRegion.Regions&& Web.Config.Environment.BizUnitRegion.Regions.length) {jQuery.each(Web.Config.Environment.BizUnitRegion.Regions, function (i, r) {if (r.Code == regionCode) {regionConfig = r;}});}return regionConfig;},InitFlagPageHeader: function () {NEG.run(function (require) {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/GetAllRegionsInfo.aspx",dataType: "jsonp",cache: true,jsonpCallback: "Biz.Common.TopNavigation.JsonpCallBack"});});},JsonpCallBack: function (data) {Biz.Common.TopNavigation.flagPageHeader(data);},flagPageHeader: function (data) {var Newegg_Country_Language = data;var Newegg_Languages = [{"abbr": "EN","name": "English"},{"abbr": "ES","name": "Español"},{"abbr": "AR","name": "Arabic"}];function GetCurrentContinet(twoLetterCode) {var tlc = twoLetterCode.toLowerCase();for (var continet in Newegg_Country_Language) {for (var region in Newegg_Country_Language[continet].country) {if (Newegg_Country_Language[continet].country[region].twolettercode == tlc) {return Newegg_Country_Language[continet].continet;}}}return "";}function GetRegionInfo(twoLetterCode) {var tlc = twoLetterCode.toLowerCase();for (var continet in Newegg_Country_Language) {for (var region in Newegg_Country_Language[continet].country) {if (Newegg_Country_Language[continet].country[region].twolettercode == tlc) {return Newegg_Country_Language[continet].country[region];}}}}function GetRegionInfoByRegionCode(regionCode) {var rc = regionCode.toUpperCase();for (var continet in Newegg_Country_Language) {for (var region in Newegg_Country_Language[continet].country) {if (Newegg_Country_Language[continet].country[region].countrycode == rc) {return Newegg_Country_Language[continet].country[region];}}}}function GetDefaultLanguage(twoLetterCode) {var region = GetRegionInfo(twoLetterCode);return region ? region.language[region.language.length - 1] : "EN";}function InitCountryPopup() {var $continet = jQuery('div[data-container="Choose_Site_Continet"]'),$country = jQuery('div[data-container="Choose_Site_Country"]'),$language = jQuery('div[data-container="Choose_Site_Language"]');if (!$continet.find('li')[0]) {for (var i = 0; i < Newegg_Country_Language.length; i++) {var $continet_li = jQuery('<li></li>');$continet_li.html('<div class="list-item-title">' + Newegg_Country_Language[i].continet + '</div>').attr('data-continet', Newegg_Country_Language[i].continet);$continet.find('ul').append($continet_li);for (var j = 0; j < Newegg_Country_Language[i].country.length; j++) {var $country_li = jQuery('<li></li>');$country_li.html('<div class="list-item-title"><span class="flag ' + Newegg_Country_Language[i].country[j].twolettercode + '"></span>' + Newegg_Country_Language[i].country[j].name + '</div>').attr({'data-continet': Newegg_Country_Language[i].continet,'data-countrycode': Newegg_Country_Language[i].country[j].countrycode,'data-twolettercode': Newegg_Country_Language[i].country[j].twolettercode,'data-localcurrency': Newegg_Country_Language[i].country[j].localcurrency,'data-language': Newegg_Country_Language[i].country[j].language,'data-isdefualt': Newegg_Country_Language[i].country[j].isdefualt});$country.find('ul').append($country_li.hide());}}for (var l = 0; l < Newegg_Languages.length; l++) {var $language_li = jQuery('<li></li>');$language_li.html('<div class="list-item-title">' + Newegg_Languages[l].name + '</div>').attr('data-language', Newegg_Languages[l].abbr);$language.find('ul').append($language_li.hide());}}}function SetSiteCountry() {jQuery('.centerPopup [data-container="Choose_Site_Continet"] li').on('click', function () {var $this = jQuery(this);$this.addClass('is-current').siblings('.is-current').removeClass('is-current');jQuery('.centerPopup [data-container="Choose_Site_Country"]').find('li:visible').hide().removeClass('is-current');jQuery('.centerPopup [data-container="Choose_Site_Language"]').find('li:visible').hide().removeClass('is-current');jQuery('.centerPopup [data-container="Choose_Site_Country"]').find('li[data-continet="' + $this.attr('data-continet') + '"]').stop(true, false).slideDown("normal", function () {var isCurrent = jQuery('.centerPopup [data-container="Choose_Site_Country"]').find('li.is-current');if (isCurrent && isCurrent.length > 0) {isCurrent[0].scrollIntoView(true);}});jQuery(".top-country-bottom .nonchangecounrtypopup").attr("disabled", true);jQuery(".gotoregionbtn").attr("disabled", true);});jQuery('.centerPopup [data-container="Choose_Site_Country"] li').on('click', function () {var $this = jQuery(this),attr_language = $this.attr('data-language').split(',');$this.addClass('is-current').siblings('.is-current').removeClass('is-current');$this[0].scrollIntoView(true);jQuery('.centerPopup [data-container="Choose_Site_Language"]').find('li:visible').hide().removeClass('is-current');for (var l = 0; l < attr_language.length; l++) {jQuery('.centerPopup [data-container="Choose_Site_Language"]').find('li[data-language="' + attr_language[l] + '"]').slideDown();}var lang = attr_language[attr_language.length - 1] ? attr_language[attr_language.length - 1] : "EN";jQuery('[data-container="Choose_Site_Language"]').find('li[data-language="' + lang.toUpperCase() + '"]').click();jQuery(".top-country-bottom .nonchangecounrtypopup").attr("disabled", false);jQuery(".gotoregionbtn").attr("disabled", false);var ispopup = $wrap.attr('data-ispopup');if (ispopup) {var regionName = $this.text();var twolettercode = $this.attr('data-twolettercode');if (regionName == "United States") {jQuery(".gotoregionbtn").hide();} else {jQuery(".gotoregionbtn").html("<span class=\"flag " + twolettercode + "\"></span> Go to " + regionName);jQuery(".gotoregionbtn").show();}}});jQuery('.centerPopup [data-container="Choose_Site_Language"] li').on('click', function () {jQuery(this).addClass('is-current').siblings('.is-current').removeClass('is-current');});var $continet = jQuery('.centerPopup [data-container="Choose_Site_Continet"]'),$wrap = $continet.parents('.top-country-wrap').eq(0);var dftRegion = $wrap.attr('data-twolettercode');var dftContinet = GetCurrentContinet(dftRegion);var dftLanguage = $wrap.attr('data-language');var ispopup = $wrap.attr('data-ispopup');if (ispopup) {jQuery(".forchangecounrtypopup").show();jQuery(".nonchangecounrtypopup").hide();var region = GetRegionInfo(dftRegion);var regionName = region ? region.name : "";jQuery(".seemslikefromtxt").text("Seems like you are coming from " + regionName + "!");jQuery(".gotoregionbtn").html("<span class=\"flag " + region.twolettercode + "\"></span> Go to " + regionName);}else {jQuery(".forchangecounrtypopup").hide();jQuery(".nonchangecounrtypopup").show();}jQuery('[data-container="Choose_Site_Continet"]').find('li[data-continet="' + dftContinet + '"]').click();jQuery('[data-container="Choose_Site_Country"]').find('li[data-twolettercode="' + dftRegion.toLowerCase() + '"]').click();jQuery('[data-container="Choose_Site_Language"]').find('li[data-language="' + dftLanguage.toUpperCase() + '"]').click();}InitCountryPopup();jQuery("#Change_Country").popup({showback: function () {SetSiteCountry();},hideback: function () {var $continet = jQuery('div[data-container="Choose_Site_Continet"]'),$wrap = $continet.parents('.top-country-wrap');$wrap.attr('data-twolettercode', jQuery("#Change_Country .top-country-name").text());$wrap.attr('data-language', jQuery("#Change_Country .top-country-language").text());$wrap.attr('data-ispopup', "");},aftercloseback: function () {Biz.Common.GDPR.checkGDPRNecessary(true);}});var allOptions = jQuery("div[data-container='Choose_Site_Country']").eq(0).find("li");var Regions = new Array;jQuery.each(allOptions, function (i, obj) {var region = new Object();region.Code = jQuery(obj).attr("data-countrycode");region.TwoLetterCode = jQuery(obj).attr("data-twolettercode");region.DefaultCurrencyCode = jQuery(obj).attr("data-localcurrency");region.DisplayShortCode = jQuery(obj).attr("data-twolettercode");region.LanguageCode = jQuery(obj).attr("data-language");region.Name = jQuery(obj).text();region.IsDefault = jQuery(obj).attr("data-isdefaut");if (region.DefaultCurrencyCode == undefined) region.DefaultCurrencyCode = null;if (region.DisplayShortCode.toLowerCase() == "gb") region.DisplayShortCode = "uk";if (region.Code.toUpperCase() == "USA") region.IsDefault = true;Regions.push(region);});Web.Config.Environment.BizUnitRegion = new Object();Web.Config.Environment.BizUnitRegion.Regions = Regions;var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var getRegionByTwoLetterCode = function (twoLetterCode) {var regions = Web.Config.Environment.BizUnitRegion.Regions;if (regions && regions.length > 0) {for (var i = 0; i < regions.length; i++) {if (twoLetterCode.toLowerCase() == regions[i].TwoLetterCode.toLowerCase()) {return regions[i];}}}return null;};var checkPopup = function (callback, storage, usePopupTimeSpan) {if (Web.Config.Environment&& Web.Config.Environment.BizUnitRegion&& Web.Config.Environment.BizUnitRegion.Regions&& Web.Config.Environment.BizUnitRegion.Regions.length) {Biz.Common.MyCountry(true,function (response) {if (response) {if (response.cyc.toLowerCase() != "us") {if (usePopupTimeSpan) {callback(getRegionByTwoLetterCode(response.cyc), storage, true);} else {callback(getRegionByTwoLetterCode(response.cyc), storage, false);}} else {if (usePopupTimeSpan) {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "PopupTimeSpan": Date.parse(new Date()) + 24 * 365 * 60 * 60 * 1000 });} else {storage.setItem("IsPopupSelectorInHomePage", "0");}Biz.Common.GDPR.checkGDPRNecessary();}}},function (xhr, status, errorThrown) {var browserLanguage = navigator.language || navigator.browserLanguage;browserLanguage = browserLanguage && browserLanguage.toLowerCase();if (browserLanguage) {if (browserLanguage.indexOf("us") == -1) {if (browserLanguage.length >= 5) {var twoLetterCode = browserLanguage.split('-')[1];callback(getRegionByTwoLetterCode(twoLetterCode), storage);return;}else if (browserLanguage.length == 2) {callback(getRegionByTwoLetterCode(browserLanguage), storage);return;}}else {storage.setItem("IsPopupSelectorInHomePage", "0");}}Biz.Common.GDPR.checkGDPRNecessary();});}};var getNeweggGlobalUrl = function () {var NeweggGlobalUrl = null;if (Web.Config.Environment&& Web.Config.Environment.NeweggGlobalUrl) {NeweggGlobalUrl = Web.Config.Environment.NeweggGlobalUrl;return NeweggGlobalUrl;}return NeweggGlobalUrl;};var popupCountrySelector = function (browserLanguageInfo, storage, usePopupTimeSpan) {if (browserLanguageInfo != null) {var countryName = browserLanguageInfo.Name;var twoLetterCode = browserLanguageInfo.TwoLetterCode.toLowerCase();var countryShortCode = twoLetterCode;var neweggGlobalLandingPage = getNeweggGlobalUrl();var $continet = jQuery('div[data-container="Choose_Site_Continet"]'),$wrap = $continet.parents('.top-country-wrap');$wrap.attr('data-twolettercode', countryShortCode);$wrap.attr('data-language', GetDefaultLanguage(countryShortCode));$wrap.attr('data-ispopup', "true");jQuery('#Change_Country').click();if (usePopupTimeSpan) {jQuery("body").click(function (e) {var target = e.target;if (target != undefined) target = window.target;if (!jQuery(e.target).parents("div").hasClass("centerPopup") || jQuery(e.target).hasClass("centerPopup-close") || jQuery(e.target).hasClass("centerPopup-short")) {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "PopupTimeSpan": Date.parse(new Date()) + 24 * 60 * 60 * 1000 });};if (jQuery(e.target).hasClass("centerPopup-long")) {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "PopupTimeSpan": Date.parse(new Date()) + 24 * 365 * 60 * 60 * 1000 });}});}}else {Biz.Common.GDPR.checkGDPRNecessary();if (usePopupTimeSpan) {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "PopupTimeSpan": Date.parse(new Date()) + 24 * 365 * 60 * 60 * 1000 });}}if (!usePopupTimeSpan) {storage.setItem("IsPopupSelectorInHomePage", "0");}};NEG.domReady(function () {NEG.run(function (require) {var storage = require("Biz.Storage");if (Web.Config.Environment && Web.Config.Environment.SwitchCountrySelectorPopup) {if (currentRegionCode === "USA") {var timeSpan = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "PopupTimeSpan");if (!timeSpan || timeSpan && Date.parse(new Date()) > timeSpan) {checkPopup(popupCountrySelector, storage, true);return;}}} else {if (currentRegionCode === "USA") {var isFirstTimeAccessUSAsite = storage.getItem("IsPopupSelectorInHomePage");var popupSelector = (isFirstTimeAccessUSAsite != "0") ? true : false;if (popupSelector) {checkPopup(popupCountrySelector, storage, false);return;}}else {storage.setItem("IsPopupSelectorInHomePage", "0");}}Biz.Common.GDPR.checkGDPRNecessary();});});},RedirectToTargetRegion: function (closeButton) {var targetRegionCode = jQuery('.centerPopup [data-container="Choose_Site_Country"]').find('li.is-current').attr("data-countrycode");var targetlanguageCode = jQuery('.centerPopup [data-container="Choose_Site_Language"]').find('li.is-current').attr("data-language");if (targetRegionCode && targetlanguageCode) {targetlanguageCode = targetlanguageCode.toLowerCase();var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var targetCurrencyCode = jQuery('.centerPopup [data-container="Choose_Site_Country"]').find('li.is-current').attr("data-localcurrency");if (!String.isNullOrEmpty(targetRegionCode) && targetRegionCode != "CAN") {if (!String.isNullOrEmpty(targetCurrencyCode)) {Web.StateManager.Cookies.save(cfg, { "CurrencyCode": targetCurrencyCode });}}var $continet = jQuery('.centerPopup [data-container="Choose_Site_Continet"]'),$wrap = $continet.parents('.top-country-wrap').eq(0);var currentlanguagecode = $wrap.attr('data-language');Biz.Common.TopNavigation.doRedirect(currentRegionCode, currentlanguagecode, targetRegionCode, targetlanguageCode);}closeButton.click();},saveOneDimensionCookie: function (name, value) {NEG.run(function (require) {var cookieUtility = require("Utility.Cookie");var cookieMapping = Web.Config.CookieMapping[name];var option = {};if (null != cookieMapping) {if (cookieMapping[0] && cookieMapping[0].length > 0) {option.domain = cookieMapping[0];}if (cookieMapping[1]) {var nowDate = new Date();var afterDate = cookieMapping[1] * 1000;if (afterDate == 0) {afterDate = 30 * 365 * 24 * 60 * 60 * 1000;}var expireDate = new Date(nowDate.getTime() + afterDate);option.exp = expireDate.toGMTString();}if (String.isNullOrEmpty(cookieMapping[2])) {option.path = "/";} else {option.path = cookieMapping[2];}if (Boolean.parse(cookieMapping[3])) {option.secure = cookieMapping[3];}}cookieUtility.set(name, value, option);});},doRedirect: function (currentRegionCode, currentlanguageCode, targetRegionCode, tagetlanguageCode) {currentlanguageCode = currentlanguageCode.toLowerCase();tagetlanguageCode = tagetlanguageCode.toLowerCase();var suffixLanguageCode = function (languageCode) {if (Web.Config.compatiableWithOldGlobalUrl != "True") {return "-" + languageCode;}return "";};if (currentRegionCode != targetRegionCode || currentlanguageCode != tagetlanguageCode) {NEG.run(function (require) {var storage = require("Biz.Storage");storage.setItem("IsPopupSelectorInHomePage", "0");});var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionConfig = Biz.Common.TopNavigation.getRegionConfig(currentRegionCode);var targetRegionConfig = Biz.Common.TopNavigation.getRegionConfig(targetRegionCode);var targeturl = window.location.href;if (currentRegionConfig && targetRegionConfig) {if (targetRegionCode != "CAN") {Web.StateManager.Cookies.save(cfg, { "RegionCode": targetRegionCode });Biz.Common.TopNavigation.saveOneDimensionCookie(Web.StateManager.Cookies.Name.REGION4CACHE, targetRegionCode);Biz.Common.TopNavigation.saveOneDimensionCookie(Web.StateManager.Cookies.Name.LANGUAGECODE, tagetlanguageCode);jQuery.ajax({url: Web.UI.ResourceManager.Url.secure("Common/Ajax/SaveRegionLanguageCode.aspx"),xhrFields: {withCredentials: true},type: "GET",});var currentPrefix = (currentRegionConfig.IsDefault) ? "" : "/global/" + currentRegionConfig.DisplayShortCode.toLowerCase() + suffixLanguageCode(currentlanguageCode);var targetPrefix = (targetRegionConfig.IsDefault) ? "" : "/global/" + targetRegionConfig.DisplayShortCode.toLowerCase() + suffixLanguageCode(tagetlanguageCode);var targetPathname = window.location.pathname;if (currentPrefix) {targetPathname = targetPathname.replace(/\/global\/((\w{2}\-\w{2})|(\w{2}))($|\/|\?)/i, targetPrefix + "$4");}else {targetPathname = targetPrefix + targetPathname;}var targetQueryString = window.location.search;window.location = window.location.protocol + "//" + window.location.host + targetPathname + targetQueryString + window.location.hash;} else {if (targetRegionCode == "CAN") {window.location = window.location.protocol + "//" + window.location.host.replace(/com/, "ca");}}}}},premierPageHeader: function () {var isPremier = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ISPREMIER");if (!String.isNullOrEmpty(isPremier)) {var script = $("premierAjaxJS");if (script && script != null) {document.getElementsByTagName('head')[0].removeChild(script);}script = document.createElement("script");script.type = "text/javascript";script.id = 'premierAjaxJS';var paraSource = "&Source=" + location.href;script.src = Web.UI.ResourceManager.Url.www("Common/Ajax/PremierHeader.aspx") + "?Action=Biz.Common.TopNavigation.renderPremierHeader" + paraSource;document.getElementsByTagName('head')[0].appendChild(script);}},renderPremierHeader: function (isPremier, data, enableBackgroud) {if (isPremier) {document.getElementById('membership_bar').innerHTML = data;if (enableBackgroud) {document.getElementsByTagName('body')[0].className = document.getElementsByTagName('body')[0].className + " membership";}}},eduIpPageHeader: function () {NEG.run(function (require) {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/CheckEDUByIP.aspx",type: "GET",dataType: "json",async: true,timeout: 3000,success: function (response) {if (response) {var str = response.toString();if (str && str.indexOf("true") > -1) {window.isEDUip = "true";} else {window.isEDUip = "false";}} else {window.isEDUip = "false";}}});});},specialPricePageHeader: function () {NEG.run(function (require) {var cookieUtility = require("Utility.Cookie");var specialPriceType = cookieUtility.get(Web.StateManager.Cookies.Name.SPT);var types = function (theString) {var result = [];if (!String.isNullOrEmpty(theString)) {var tempTypes = theString.split("x");for (var i = 0; i < tempTypes.length; i++) {if (!String.isNullOrEmpty(tempTypes[i])) {var temp = tempTypes[i].split("-");if (temp.length == 3) {result.push({ id: temp[0], type: temp[1], priority: parseInt(temp[2]) });}}}}return result;}(specialPriceType);var typeIsExists = function (array, type) {if (array && array.length) {for (var i = 0; i < array.length; i++) {if (array[i].type == type) {return true;}}}return false;};if (!typeIsExists(types, "0")) {jQuery.ajax({url: Web.Config.Environment.Url.WWW + "Common/Ajax/CheckStateByIP.aspx",type: "GET",dataType: "json",timeout: 3000,async: true,success: function (response) {if (response) {if (!typeIsExists(types, "0") && !response.isError) {var newCookieVal = new Array();jQuery(types).each(function (index, item) {if (item.type == "1") {newCookieVal.push(item);}});jQuery(response).each(function (index, item) {newCookieVal.push({ id: item.priceTypeId, type: item.type, priority: item.priority });});newCookieVal.sort(function (x, y) { return x.priority < y.priority; });var cookieMapping = Web.Config.CookieMapping[Web.StateManager.Cookies.Name.SPT];var option = {};if (null != cookieMapping) {if (cookieMapping[0] && cookieMapping[0].length > 0) {option.domain = cookieMapping[0];}if (String.isNullOrEmpty(cookieMapping[2])) {option.path = "/";} else {option.path = cookieMapping[2];}if (Boolean.parse(cookieMapping[3])) {option.secure = cookieMapping[3];}}cookieUtility.set(Web.StateManager.Cookies.Name.SPT, function (array) {var result = '';if (array && array.length > 0) {result += array[0].id + "-" + array[0].type + "-" + array[0].priority;for (var i = 1; i < array.length; i++) {result += "x" + array[i].id + "-" + array[i].type + "-" + array[i].priority;}}return result;}(newCookieVal), option);}}}});}});},cartPageHeader2011: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();if (arguments.length == 2) {var a = arguments[1];if (a != "") {cartInfo = a;};}var shoppingCartDescription;if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {shoppingCartDescription = Web.Lang.shoppingCartwithItems;} else {shoppingCartDescription = Web.Lang.emptyShoppingCart;};if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}rtv.push("<a class=\"icon cart\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\">");if (cartInfo.indexOf("|") > 0 && (cartInfo.indexOf("0 Item") != 0)) {var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ");var tempIndex = tempStr.indexOf("|");var tempLength = tempStr.length;rtv.push(tempStr.substring(tempIndex + 2, tempLength).decodeHtml());rtv.push(" (" + tempStr.substring(0, tempIndex - 1).replace("Item(s)", Web.Lang.items2).replace("Items(s)", "" + Web.Lang.items2) + ")");}else if (cartInfo.indexOf("|") > 0) {var tempIndex = cartInfo.indexOf("|");var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " ");rtv.push(tempStr.substring(0, tempIndex));} else {rtv.push(cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " "));}rtv.push("</a>");} else {rtv.push("<a class=\"icon cart\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\">" + Web.Lang.items + "</a>");};if (arguments.length == 2) {var o = arguments[0];if (o) {o.html(rtv.join(''));}else {document.write(rtv.join(''));};}else {document.write(rtv.join(''));};},cartPageHeader2015: function (response) {var rtv = [];var wces = Web.Config.Environment.SSLPage;var crtUrl = wces.Shoppingcart + "?Submit=view";var cartInfo = "";if (response == null) {cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();} else {if (response.ajaxGetDataFail) {cartInfo = "";} else {cartInfo = !response.UseCookie ? response.ItemPrice.decodeCookieURI().encodeHtml() : Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART, "", true).encodeHtml();}}if (arguments.length == 2) {var a = arguments[1];if (a != "") {cartInfo = a;};}var shoppingCartDescription;if (!String.isNullOrEmpty(cartInfo) && cartInfo.indexOf("(s)") != -1) {shoppingCartDescription = Web.Lang.shoppingCartwithItems;} else {shoppingCartDescription = Web.Lang.emptyShoppingCart;};if (!String.isNullOrEmpty(cartInfo)) {var cartList = cartInfo.split("|");if (cartList.length >= 3 && cartList[2].trim() == "1") {cartInfo = cartInfo.substring(0, (cartInfo.indexOf("|")) - 1)}rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\"><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>");if (cartInfo.indexOf("|") > 0 && (cartInfo.indexOf("0 Item") != 0)) {var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", "" + Web.Lang.items1 + " ");var tempIndex = tempStr.indexOf("|");var tempLength = tempStr.length;if (Web.Config.Environment.WWWPage.IsVatAllPages) {rtv.push(tempStr.substring(0, tempIndex - 1).replace("Item(s)", Web.Lang.items2).replace("Items(s)", "" + Web.Lang.items2) + " ");} else {rtv.push(tempStr.substring(tempIndex + 2, tempLength));rtv.push(" (" + tempStr.substring(0, tempIndex - 1).replace("Item(s)", Web.Lang.items2).replace("Items(s)", "" + Web.Lang.items2) + ")");}}else if (cartInfo.indexOf("|") > 0) {var tempIndex = cartInfo.indexOf("|");var tempStr = cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " ");rtv.push(tempStr.substring(0, tempIndex));} else {rtv.push(cartInfo.replace("0 Item ", "" + Web.Lang.items + " ").replace("Item(s) ", Web.Lang.items2 + " "));}rtv.push("</ins></a>");} else {if (response != null && response.ajaxGetDataFail) {rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" role=\"button\" aria-label=\"View your shopping cart\" ><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>" + "" + "</ins> </a>");} else {rtv.push("<a class=\"top-nav-tab-name\" href=\"" + crtUrl + "\" rel=\"nofollow\" title=\"" + shoppingCartDescription + "\"><i class=\"top-nav-tab-icon fa fa-shopping-cart\"></i> <ins>" + Web.Lang.items + "</ins> </a>");}};jQuery("#miniCart").append(rtv.join(''));},eggPointPageHeader2011: function (expireDays) {var rtv = [];var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {var wces = Web.Config.Environment.SSLPage;var activePoints = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "NVS_CUSTOMERINFO_ACTIVE_POINTS");if (String.isNullOrEmpty(activePoints)) {activePoints = 0;}rtv.push("<span class=\"separator\">|</span>");rtv.push("<span class=\"eggpoints-header\">");rtv.push("<a class=\"noline\" rel=\"nofollow\" href=\"" + wces.ActivePoint + "\" onclick=\"\">" + activePoints + " EggPoints</a>");if (activePoints > 0 && expireDays >= 0) {var expireSoon = Web.Lang.expiresSoon;rtv.push("<span class=\"expire-popup\">");rtv.push("<span class=\"inner-wrap\">");rtv.push("<span>" + expireSoon + "</span>");rtv.push("<span class=\"arrow\"></span>");rtv.push("</span></span>");}rtv.push("</span>");}document.write(rtv.join(""));},refleshcartPageHeader2011: function () {var o = jQuery("#haInfoBarCart");if (o) {var v = "";if (arguments.length == 1) {v = arguments[0];}Biz.Common.TopNavigation.cartPageHeader2011(o, v);};},shoppingcartnumber: function () {var rtv = [];var wces = Web.Config.Environment.SSLPage;var cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART);if (!String.isNullOrEmpty(cartInfo)) {rtv.push(cartInfo.split(" ")[0]);}else {rtv.push("0");};document.write(rtv.join(''));},b2bTopBarInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (String.isNullOrEmpty(loginID)) {$("haInfoBarCenter").style.display = "none";$("haInfoBarCombine").style.display = "none";$("haInfoBarHelp").style.display = "none";}},setLink: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {jQuery("#headerTrackOrder").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#findInvoice").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#headerReturnItem").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#checkReturnStatus").attr("href", Web.Config.Environment.Url.Secure + "RMA/RMAHistory.aspx");jQuery("#emailNotificationFooterUrl").prop("href", Web.Config.Environment.Url.Secure + "NewMyAccount/EmailNotifications.aspx");}else {jQuery("#headerTrackOrder").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=1");jQuery("#findInvoice").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=4");jQuery("#headerReturnItem").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=2");jQuery("#checkReturnStatus").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=3");if (jQuery('.premier-hotline').length > 0) {jQuery('.premier-hotline').remove();}jQuery("#emailNotificationFooterUrl").prop("href", Web.Config.Environment.Url.Secure + "Guest/EmailNotifications.aspx");};},setWishlist: function (ajaxUrl, myDetailUrl, myListUrl) {var menu = jQuery("#liWishList .top-nav-menu .top-nav-menu-links");jQuery.ajax({type: "GET",url: ajaxUrl,xhrFields: {withCredentials: true},success: function (data) {if (jQuery.isArray(data)) {if (data.length > 0) {menu.find("li:first").addClass("top-nav-menu-split");};if (data.length > 6) {jQuery("<li>").html(jQuery("<a>").prop("href", myListUrl).text("See All")).prependTo(menu);};data = data.slice(0, 6).reverse();for (var i = 0; i < data.length; i++) {var item = data[i];jQuery("<li>").html(jQuery("<a>").prop("href", myDetailUrl + "?ID=" + item.wishListNumber).prop("title", item.title).text(item.title)).prependTo(menu);};};}});},navBarNameHeaderClick: function (bContinueUrl, appreciationUrl, isCustomerName) {if (!bContinueUrl || !appreciationUrl) {return;}var isCustomerName = isCustomerName == "True" ? true : false;if (localStorage.getItem("IsEntryedAppeciationPage") == 'true') {if (!isCustomerName) {window.location.href = bContinueUrl;}return;}Biz.Common.SiteCatalyst.sendForOnClick({"events": "event63","eVar78": "Appreciation-header"}, "header  click");window.location.href = appreciationUrl + "?bcontinue=" + bContinueUrl.encodeURI();}};usingNamespace("Biz.Common")["B2BLogin"] = function () {var recentOrderUrl = Web.UI.ResourceManager.Url.secure("/NewMyAccount/RecentOrder.aspx");var getRecentOrderData = function () {var script = $("b2bloginAjaxJs");if (script && script != null) {document.getElementsByTagName('head')[0].removeChild(script);}script = document.createElement("script");script.type = "text/javascript";script.id = 'b2bloginAjaxJs';script.src = recentOrderUrl;document.getElementsByTagName('head')[0].appendChild(script);};var initLogin = function () {jQuery("#UserName").val(Web.Lang.emailAddress).css("color", "#BABABA");jQuery("#UserPwd1").val(Web.Lang.password).css("color", "#BABABA");jQuery("#UserPwd2").val("");jQuery("#UserName").focus(function () {if (jQuery(this).val() == Web.Lang.emailAddress) {jQuery(this).val("").css("color", "#000").css("border-color", "#BABABA");}}).blur(function () {if (jQuery(this).val() == "") {jQuery(this).val(Web.Lang.emailAddress).css("color", "#BABABA");}});jQuery("#UserPwd1").focus(function () {jQuery(this).hide();jQuery("#UserPwd2").show().focus().css("color", "#000").css("border-color", "#BABABA");});jQuery("#UserPwd2").blur(function () {if (jQuery(this).val() == "") {jQuery(this).hide();jQuery("#UserPwd1").show().css("color", "#BABABA");}});};return {SetInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (loginID && loginID.length > 0) {getRecentOrderData();jQuery("#loginBefore").hide();jQuery("#loginAfter").show();} else {initLogin();jQuery("#loginBefore").show();jQuery("#loginAfter").hide();}},SetRecentOrderInit: function (ro) {if (ro && ro.code && ro.code == "0" && ro.t&& ro.id && ro.id.length > 0&& ro.l && ro.l.length > 0) {jQuery("#recentOrderNum").html("<a href=\"" + ro.l + "\">" + ro.id + "  - " + ro.t + "</a>").css("text-decoration", "none");jQuery("#recentOrderStatus").text(ro.s);} else {jQuery("#recentOrderNum").text(Web.Lang.noOrderRecord).css("text-decoration", "none");jQuery("#recentOrderStatus").text("");}},SetSBannerInit: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (loginID && loginID.length > 0) {jQuery("#SBannerBefore").hide();jQuery("#SBannerAfter").show();} else {jQuery("#SBannerBefore").show();jQuery("#SBannerAfter").hide();}},AccountLogin: function () {if (jQuery("#UserName").val() != Web.Lang.emailAddress && jQuery("#UserPwd2").val() != "") {Web.UI.Form.submit("BusinessLogin");}}};}();usingNamespace("Biz.Common")["Pagination"] = {go: function (n, p, e, f, t, fn, searchPanelVersion) {var order = $("Order_top");var ssn = null;try {if (searchPanelVersion) {ssn = Biz.SmartSearchPanel2013.Navigation;} else {ssn = Biz.SmartSearchPanel.Navigation;}} catch (e) {ssn = null;}if ((order != undefined && order.value == "10") || (ssn != null && ssn.preReq.issmart)) {var totalPage = parseInt($("totalPage_1").innerHTML, 10);if (p < 1) {p = 1;}if (p > totalPage) {p = totalPage;}$("currentPage_1").innerHTML = p;ssn.requestData();return;}p = Number.parse(p);var tid = Biz.Store;var cfg = Web.StateManager.Cookies.Name.CFG;if (p > 0) {if (tid && !String.isNullOrEmpty(cfg)) {if (tid.Subcategory) {Web.StateManager.Cookies.save(cfg, { "Tid": tid.Tid });};};if (f) { Biz.Common.Window1.loading(); };var name = String.isNullOrEmpty(e) ? "Page" : e;Web.UI.Form.setValue(n, name, p);fn ? fn.call(this, n) : Web.UI.Form.submit(n);};},goSeoUrl: function (p, f, url, searchPanelVersion) {var order = $("Order_top");var ssn = null;try {if (searchPanelVersion) {ssn = Biz.SmartSearchPanel2013.Navigation;} else {ssn = Biz.SmartSearchPanel.Navigation;}} catch (e) {ssn = null;}if ((order != undefined && order.value == "10") || (ssn != null && ssn.preReq.issmart)) {var totalPage = parseInt($("totalPage_1").innerHTML, 10);if (p < 1) {p = 1;}if (p > totalPage) {p = totalPage;}$("currentPage_1").innerHTML = p;ssn.requestData();return;}p = Number.parse(p);var tid = Biz.Store;var cfg = Web.StateManager.Cookies.Name.CFG;if (p > 0) {if (tid && !String.isNullOrEmpty(cfg)) {if (tid.Subcategory) {Web.StateManager.Cookies.save(cfg, { "Tid": tid.Tid });};};if (f) { Biz.Common.Window1.loading(); };window.location.href = url;};}};usingNamespace("Biz.Common")["initialize"] = function () {var cfgCookie = document.cookie.match(/NV%5FCONFIGURATION=.*?(;|$)/g);if (cfgCookie && cfgCookie.length > 1) {var expires = new Date();expires.setTime(expires.getTime() - 1000 * 60 * 60 * 24);document.cookie = 'NV%5FCONFIGURATION=;path=/;expires=' + expires.toString();}window.attachEvent("onload", (function () {Web.UI.Form.setValue("frmPaginationBottom", "Page", "");Biz.Common.SearchKeywords.saveExternalSearchKeywords();}));}();usingNamespace("Biz.Common")["Validation"] = {isEmail: function (s) {var patrn = /^[0-9a-zA-Z](?=([-.\w\+]*[0-9a-zA-Z_-]))\1*@(?=([0-9a-zA-Z][-.\w]*\.))\2+[a-zA-Z]{2,9}$/;return patrn.test(s);},getRegexString: function (s) {if (String.isNullOrEmpty(s)) { return ""; };return s.replace("\\", "\\\\").replace("?", "\\?").replace("*", "\\*").replace("$", "\\$").replace("^", "\\^").replace("|", "\\|").replace(".", "\\.").replace("(", "\\(").replace(")", "\\)").replace("[", "\\[").replace("]", "\\]").replace("{", "\\{").replace("}", "\\}").replace("+", "\\+").replace("@", "\\@").replace("#", "\\#").replace("%", "\\%").replace("&", "\\&");}};usingNamespace("Biz.Common")["VeriSign"] = {open: function () {var url = Biz.Footer.Config.veriSignUrl;Web.UI.Control.openWindow(url, "_blank", 560, 500, 200, 200, "resizable=yes,status=yes");}};usingNamespace("Biz.Common")["saveDepaCookie"] = function (depaID, isRollOver) {var n = Web.StateManager.Cookies.Name.CFG;if (String.isNullOrEmpty(n) || String.isNullOrEmpty(depaID)) {return;};Web.StateManager.Cookies.save(n, { "DEPA": depaID });if (isRollOver) {Web.StateManager.Cookies.save(n, { "w39": "-999" });};};usingNamespace("Biz.Common")["QuickSearch"] = {submit: function () {var $ = Newegg$;var item = $("haQuickSearchBox");if (item == null) {return false;} else {var description = item.value;if (String.isNullOrEmpty(description.trim())) {item.focus();return false;} else {return true;};}},submitPagehHeader2011: function () {var result = false;var $ = Newegg$;var input = $("haQuickSearchBox");if (input != null) {var inputValue = input.value.trim();if ((!String.isNullOrEmpty(inputValue)) && inputValue != Web.Lang.defaultTextInSearchBox) {var haQuickSearchDropdown = document.getElementById("haQuickSearchDropdown");if (haQuickSearchDropdown != null) {var selectEl = haQuickSearchDropdown.getElementsByTagName("Select")[0];var wi = Web.UI.Items;var selectedValue = selectEl[selectEl.selectedIndex].value;var oldSelectedValue = selectedValue;var isItem = wi.isINItem(inputValue) || wi.isCVFItem(inputValue) || wi.isTSItem(inputValue) || wi.isGCItem(inputValue) || wi.isSellerItem(inputValue) || wi.isStandardItem(inputValue) || wi.isNeweggItem(inputValue) || wi.isParentItem(inputValue) || wi.isSFItem(inputValue) || wi.isDVDorBooksItem(inputValue) || wi.isAutoPartsItem(inputValue);if (isItem) {selectedValue = '-1';}var inputEls = haQuickSearchDropdown.getElementsByTagName("input");for (var i = 0; i < inputEls.length; i++) {if (inputEls[i].name == 'N') {if (inputEls[i].value == "-1") {inputEls[i].value = selectedValue;}break;}}Biz.Common.SearchKeywords.saveInternalSearchKeywords(inputValue);if (oldSelectedValue == "-1") {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.PRDLIST, { "SearchScope": "" });} else {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.PRDLIST, { "SearchScope": oldSelectedValue });}result = true;}}}return result;},chromeSpeechSearch: function () {if (Web.Environment.Browser.isChrome()) {var $ = Newegg$;var searchInput = document.getElementById("haQuickSearchBox");searchInput.webkitSpeech = true;searchInput.webkitGrammar = "builtin:search";}},inputFocus: function (isFocus) {var $ = Newegg$;var input = $("haQuickSearchBox");var inputValue = input.value.trim();if (isFocus && inputValue == Web.Lang.defaultTextInSearchBox) {input.value = "";} else if ((!isFocus) && inputValue == "") {input.value = Web.Lang.defaultTextInSearchBox;}},addSearchKeyword: function () {var description = Biz.Common.QuickSearch.getUrlSearch("Description");var d = Biz.Common.QuickSearch.getUrlSearch("d");if (description) {jQuery("#haQuickSearchBox").attr('value', description);}else if (d) {jQuery("#haQuickSearchBox").attr('value', d);}},getUrlSearch: function (name) {var after = window.location.search;after = after.replace(/\+/g, " ");after = after.substr(1) || window.location.hash.split('?')[1];if (!after) return null;var query = after.toLowerCase();if (query.indexOf(name.toLowerCase()) === -1) return null;var parmsArr = after.split("&");if (parmsArr.length >= 1) {for (var i = 0; i < parmsArr.length; i++) {if (parmsArr[i].toLowerCase().indexOf('description=') > -1 || parmsArr[i].toLowerCase().indexOf('d=') > -1) {var qString = parmsArr[i].split('=');if (qString.length == 2 && (qString[0].toLowerCase() == "description" || qString[0].toLowerCase() == "d")) {return unescape(qString[1]);}return null;}}}return null;}};usingNamespace("Biz.Common")["AccountLogin"] = {login: function (n, f, p) {var account = $(n).value.toUpperCase();var pwd = $(p).value;if (account != Web.Lang.emailAddress.toUpperCase() && !String.isNullOrEmpty(pwd)) {Web.UI.Form.submit(f)};},initInput: function (n, f, w) {if ($(n)) {if (f == "userName") {if (String.isNullOrEmpty($(n).value)) {$(n).value = Web.Lang.emailAddress;};} else {if (String.isNullOrEmpty($(n).value)) {$(n).style.display = "none";$(w).style.display = "inline";$(w).value = Web.Lang.password;};};};},emptyInput: function (n, f, w) {if ($(n)) {$(n).value = "";if (f == "userPwd") {$(n).style.display = "none";$(w).style.display = "inline";$(w).focus();};};},pwdInitInput: function (n) {if ($(n)) {$(n).value = "";};},a: function (n, f, w) {if (window.event.keyCode == 13) {Biz.Common.AccountLogin.login(n, f, w);};},onKeyUp: function (n, f, w) {$(w).attachEvent("onkeyup", (function () { Biz.Common.AccountLogin.a(n, f, w) }))}};usingNamespace("Web.Survey")["Trigger"] = {showNextPollSegment: function (questionID, optionID) {var question = Web.Survey.Config.question;if (questionID > 0 && optionID > 0) {var childs;var checkOption;var isCheck;for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID) {if (question[i].option.status && question[i].option.id != optionID) {isCheck = true;checkOption = question[i].option.id;break;};};};if (isCheck) {Web.Survey.Trigger.hideNextPollSegment(questionID, checkOption);};for (j = 0; j < question.length; j++) {if (question[j].questionID == questionID && question[j].option.id == optionID) {question[j].option.status = true;childs = question[j].option.childOption.split(",");break;};};for (k = 0; k < childs.length; k++) {if (!String.isNullOrEmpty(childs[k])) {$("choice" + childs[k]).style.display = "";};};};Web.Survey.Trigger.displayChoiceAll();return true;},hideNextPollSegment: function (questionID, optionID) {var question = Web.Survey.Config.question;if (questionID > 0 && optionID > 0) {var childs = [];for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.id == optionID && question[i].option.status) {childs = question[i].option.childOption.split(",");break;};};var allChilds = childs;childs = Web.Survey.Trigger.getAllcheckChilds(allChilds);if (childs.length > allChilds.length) {childs = Web.Survey.Trigger.getAllcheckChilds(allChilds);};if (childs.length > 0) {for (var j = 0; j < childs.length; j++) {if (!String.isNullOrEmpty(childs[j])) {question[j].option.status = false;var boxlist;boxlist = document.getElementsByName("OPTION_" + childs[j]);if (typeof boxlist != "undefined" && boxlist.length > 0) {for (var k = 0; k < boxlist.length; k++) {boxlist[k].checked = false;};};$("choice" + childs[j]).style.display = "none";Web.Survey.Trigger.updateQuestionStatus(childs[j]);};};}else {return true;};};},getAllcheckChilds: function (allChilds) {var childs = [];childs = allChilds;if (allChilds.length > 0) {for (j = 0; j < allChilds.length; j++) {if (Web.Survey.Trigger.getQuestionStatus(allChilds[j])) {var tmpchild = Web.Survey.Trigger.getcheckChilds(allChilds[j]).split(",");if (tmpchild.length > 0) {childs.concat(tmpchild).uniq;};};};};return childs;},updateQuestionStatus: function (questionID) {var question = Web.Survey.Config.question;if (questionID > 0) {for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {question[i].option.status = false;};};};},getQuestionStatus: function (questionID) {var question = Web.Survey.Config.question;if (questionID > 0) {for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {return true;};};};return false;},getcheckChilds: function (questionID) {var question = Web.Survey.Config.question;for (i = 0; i < question.length; i++) {if (question[i].questionID == questionID && question[i].option.status) {return question[i].option.childOption;};};return "";},uniq: function () {var temp = {}, len = this.length;for (var i = 0; i < len; i++) {if (typeof temp[this[i]] == "undefined") {temp[this[i]] = 1;};};this.length = 0;len = 0;for (var i in temp) {this[len++] = i;};return this;},ValidateForm: function () {var question = Web.Survey.Config.question;var elname = "";var el;el = document.getElementsByTagName("li");if (typeof el != "undefined" && el.length > 0) {for (var i = 0; i < el.length; i++) {var eltext;var elinputs;var bcheck = false;if (typeof el != "undefined" && typeof el[i] != "undefined" && el[i].style.display != "none") {var id = i + 1;var isCheck = false;for (var k = 0; k < question.length; k++) {if (question[k].questionID == id) {isCheck = question[k].isCheck;break;};};eltext = document.getElementsByTagName("textarea");if (typeof eltext != "undefined" && typeof eltext[i] != "undefined" && isCheck) {if (eltext[i].value.length > 500) {alert(" - You have exceeded the 500 characters limit. - ");eltext[i].focus();return;};};elinputs = document.getElementsByTagName("input");if (typeof elinputs != "undefined" && elinputs.length > 0) {var elinput, qid;for (var j = 0; j < elinputs.length; j++) {if (elinputs[j].id == ("OPTION_" + id)) {elinput = elinputs[j];qid = j;break;};};if (typeof elinput != "undefined" && isCheck) {var optionlist;optionlist = document.getElementsByName("OPTION_" + id);for (var j = 0; j < optionlist.length; j++) {if (optionlist[j].checked) {bcheck = true;break;};};if (!bcheck && isCheck) {alert(" --Please Check-- ");elinputs[qid].focus();return;};};};};};};document.forms["frmPollContent"].submit();},closeSurveyWindow: function () {window.close();},check: function (popUrl, width, height) {var visit = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.DEVICEINFO, "SurveyVisit");visit = String.isNullOrEmpty(visit) ? 1 : parseInt(visit);Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.DEVICEINFO, { "SurveyVisit": (visit + 1) });var config = Web.Survey.CFG;var isShowSurvey = false;if (config && typeof config.preCondition != "undefined" && config.preCondition.enabled) {var isInclude = false;if (config.preCondition.includePageList.length == 0) {isInclude = true;} else {for (var i = 0; i < config.preCondition.includePageList.length; i++) {var p = config.preCondition.includePageList[i];if (!String.isNullOrEmpty(p)) {p = p.toLowerCase();};if (p == "/index.aspx" && location.href.toLowerCase() == Web.Config.Environment.Url.WWW.toLowerCase()) {isInclude = true;break;};if (location.href.toLowerCase().indexOf(p) != -1) {isInclude = true;break;};};};var isExclude = false;if (config.preCondition.excludePageList.length == 0) {isExclude = false;} else {for (var i = 0; i < config.preCondition.excludePageList.length; i++) {var p = config.preCondition.excludePageList[i];if (!String.isNullOrEmpty(p)) {p = p.toLowerCase();};if (p == "/index.aspx" && location.href.toLowerCase() == Web.Config.Environment.Url.WWW.toLowerCase()) {isExclude = true;break;};if (location.href.toLowerCase().indexOf(p) != -1) {isExclude = true;break;};};};if (isInclude && !isExclude) {var queen = [];for (var i = 0; i < config.preCondition.percentage; i++) {queen.push(i + 1);};var key = parseInt(Math.random() * 100);isShowSurvey = queen.contains(key);};};var surveyFlag = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.GOOGLEANALYTICS, "SurveyFlag");var flag = false;if (!String.isNullOrEmpty(surveyFlag) && surveyFlag.indexOf("Y") != -1) {flag = true;};if (isShowSurvey && parseInt(config.preCondition.minVisit) > 0 && visit >= parseInt(config.preCondition.minVisit) && !flag) {Web.UI.Control.openWindow(popUrl, '_blank', width, height, 200, 280, 'toolbar=0,menubar=0,location=0,resizable=0,scrollbars=1,status=1');};},displayChoiceAll: function () {$("choiceAll").style.display = "";}};usingNamespace("Biz.Common")["SearchKeywords"] = function () {var googleUrl = "google.com";var bingUrl = "bing.com";var queryName = "q";var queryValue = "";var maxKeywords = 10;var maxKeywordsLength = 50;var searchKeywordsArray = [];var searchMaxSplit = "|";var getUrlParameter = function (name) {return decodeURI((RegExp('[?|&]' + name + '=' + '(.+?)(&|$)').exec(document.referrer) || [, ""])[1]);};var removeElementFromArray = function (a, ev) {for (var ci = 0; ci < a.length; ci++) {if (a[ci].toLowerCase() == ev.toLowerCase()) {a.splice(ci, 1);}}return a;};var removeSpace = function (k) {var str = "";if (k.length > 0) {var array = k.split(" ");var s = "";for (var i = 0; i < array.length; i++) {s = array[i];if (s.length > 0) {str += s.trim() + " ";}}}return str.trim();};var addRecentlySearchKeywords = function (keyword, storagekey) {NEG.run(function (require) {var storage = require("Biz.Storage");var spReg = new RegExp("[,|]", "g");keyword = keyword.replace(spReg, " ");keyword = removeSpace(keyword);if (keyword.toUpperCase().substring(0, 4) != 'PPSS') {var cookieValue = storage.getItem(storagekey, "").trim();if (cookieValue.length > 0) {if (cookieValue.indexOf(searchMaxSplit) > 0) {maxKeywords = parseInt(cookieValue.split(searchMaxSplit)[0]);cookieValue = cookieValue.split(searchMaxSplit)[1];if (cookieValue.length > 0) {searchKeywordsArray = cookieValue.split(",");searchKeywordsArray = removeElementFromArray(searchKeywordsArray, keyword);if (searchKeywordsArray.length >= maxKeywords && searchKeywordsArray.length > 0) {searchKeywordsArray.splice(maxKeywords - 1, searchKeywordsArray.length - maxKeywords + 1);}if (searchKeywordsArray.length < maxKeywords) {searchKeywordsArray.unshift(keyword);}cookieValue = maxKeywords.toString() + searchMaxSplit + searchKeywordsArray.toString();storage.setItem(storagekey, cookieValue);}}} else {cookieValue = maxKeywords.toString() + searchMaxSplit + keyword;storage.setItem(storagekey, cookieValue);}}});};return {saveExternalSearchKeywords: function () {var referralUrl = document.referrer;if (referralUrl) {if (referralUrl.indexOf(googleUrl) > 0) {queryValue = getUrlParameter(queryName);} else if (referralUrl.indexOf(bingUrl) > 0) {queryValue = getUrlParameter(queryName);}if (queryValue.length > 0 && queryValue.length <= maxKeywordsLength) {addRecentlySearchKeywords(queryValue, "ItemSearchKeywords");}}},saveInternalSearchKeywords: function (keyword) {if (keyword.length > 0 && keyword.length <= maxKeywordsLength) {addRecentlySearchKeywords(keyword, "ItemSearchKeywords");}},saveInnerSearchKaywords: function (keyword) {if (keyword.length > 0 && keyword.length <= maxKeywordsLength) {addRecentlySearchKeywords(keyword, "ItemInnerSearchKeywords");}}};}();usingNamespace("Biz.Common")["KeyWordsRule"] = {ForReviewCenter: function (key) {var keyArray = new Array();if (!String.isNullOrEmpty(key)) {key = key.replace(" ", "|").replace(",", "|").replace(";", "|");keyArray = key.split("|");var result = "";if (keyArray.length > 1) {for (var i = 0; i < keyArray.length; i++) {result = result + "|" + keyArray[i];};return result.replace(/(^\|*)|(\|*$)/g, "");}};return keyArray;}};usingNamespace("Biz.Common")["SearchManager"] = {setHightLight: function (container, keyWords) {var re = new RegExp(keyWords, "i");for (var i = 0; i < container.childNodes.length; i++) {var childObj = container.childNodes[i];if (childObj.nodeType == 3) {if (childObj.data.search(re) == -1) { continue; };var reResult = new RegExp("(" + keyWords + ")", "gi");var objResult = document.createElement("span");objResult.innerHTML = childObj.data.replace(reResult, "<span class='highlight'>$1</span>");container.replaceChild(objResult, childObj);}else if (childObj.nodeType == 1) {this.setHightLight(childObj, keyWords);};};},setHightLightForElements: function (elements, keyWords) {if (elements) {var l = elements.length;for (var i = 0; i < l; i++) {this.setHightLight(elements[i], keyWords);};};}};usingNamespace("Biz.Common")["CommonPop"] = {init: function () {jQuery("a[rel='CommonPopup']").unbind().click(function () {switch (jQuery(this).attr("name")) {case "a-seller":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.marketplaceSeller);break;case "ship-free":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.shippingRestrictions);jQuery('#AlarmPanelNewCommon').attr('class', 'atnIcon icnInfoNew');break;case "ship-by-newegg":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.shippedByNewegg);break;case "terms-mfrwarranty":jQuery('#AlarmPanelNewCommon .title').text(Web.Lang.warrantyInfo);break;}Biz.Common.CommonPop.popupDiv(this, 400, 200);});jQuery("#overlay").one("click", function () { Biz.Common.CommonPop.closePopup() });Biz.Common.CommonPop.resetPopup();jQuery(document).keypress(function (e) {if (jQuery("#modalCommon").css("display") == "block" && (e.which == 0 || e.which == 27)) {Biz.Common.CommonPop.closePopup();return false;}return true;});},popupDiv: function (o, w, h) {o.blur();var vp = Biz.Common.Viewport;var wuc = Web.UI.Control;var pos = jQuery(o).offset();var width = jQuery(o).width();var pX = (pos.left + width < vp.right() - w) ? pos.left + width : vp.right() - w;var pY = (pos.top < vp.bottom() - h) ? pos.top : vp.bottom() - h;var body = document.getElementsByTagName("body")[0];jQuery("#modalCommon").css({ "left": pX + "px", "top": pY + "px" });jQuery("#modalCommon").removeClass('objVideo');jQuery("#modalCommon").children(".content").html('');jQuery("#modalCommon").toggleClass('loading');jQuery("#overlay").css("display", "block");if (Web.Environment.Browser.currentVersion() == Web.Enum.Browser.IE_6) {wuc.setAttribute($("overlay"), { "style.height": (body.scrollHeight + 50) + "px" });wuc.setAttribute($("overlay"), { "style.width": (body.scrollWidth) + "px" });$("overlay").innerHTML = "<iframe style='position:absolute;width:100%;height:100%;_filter:alpha(opacity=0);opacity=0;border-style:none;'></iframe>";wuc.setAttribute($("modalCommon"), { "style.height": "6em" });};jQuery("#modalCommon").show("fast");if (o.id && $(o.id + "_Content")) {jQuery("#modalCommon").children(".content").html($(o.id + "_Content").innerHTML);}else if (o.name && $(o.name + "_Content")) {jQuery("#modalCommon").children(".content").html($(o.name + "_Content").innerHTML);}return false;},closePopup: function () {jQuery("#modalCommon").hide("fast");jQuery("#overlay").css("display", "none");Biz.Common.CommonPop.resetPopup();return true;},resetPopup: function () {jQuery('#AlarmPanelNewCommon').attr('class', 'atnIcon icnInfo');jQuery('#AlarmPanelNewCommon .title').text('');jQuery('#AlarmPanelNewCommon').find("img").css("display", "");}};usingNamespace("Biz.Common")["NVTC"] = {check: function () {var utmaRegex = new RegExp(Web.StateManager.Cookies.Name.NVTC + "=([\\d\\.A-Za-z]*)");var utmaMatch = utmaRegex.exec(document.cookie);if (utmaMatch && utmaMatch.length > 1) {var utma = utmaMatch[1];}if (utma) {var utmaAry = utma.split(".");if (utmaAry.length != 7) {Biz.Common.MyCountry(false);}}else {Biz.Common.MyCountry(false);}}};usingNamespace("Biz.Common")["Coremetric"] = {send: function (currentID, cmData, isForPersonalization) {if (cmData && cmData.length) {for (var i = 0; i < cmData.length; i++) {var dataList = cmData[i].dataList;if (currentID == cmData[i].position && (!this.sendedCache[currentID]) && cmCreateManualImpressionTag) {for (var j = 0; j < dataList.length; j++) {if (!dataList[j].cMData) { continue; }if (isForPersonalization) {if (Web.Config.CoreMetrics && Web.Config.CoreMetrics.Enable) {cmCreateCustomTag("8888", dataList[j].cMData.replace("#DATE#", new Date().toISOString()));}if (Web.Config.SiteCatalyst && Web.Config.SiteCatalyst.Enable) {Biz.Common.SiteCatalyst.sendToCache({ 'list1': dataList[j].cMData.replace("#DATE#", new Date().toISOString()) });}}else {cmCreateManualImpressionTag(dataList[j].cMData);}}this.sendedCache[cmData[i].position] = 1;}}}},sendedCache: {}};usingNamespace("Biz.Common")["Coremetric2016"] = {send: function (dataList) {for (var j = 0; j < dataList.length; j++) {if (!dataList[j].cMData) { continue; }if (Web.Config.SiteCatalyst && Web.Config.SiteCatalyst.Enable) {Biz.Common.SiteCatalyst.sendToCache({ 'list1': dataList[j].cMData.replace("#DATE#", new Date().toISOString()) });}}}};usingNamespace("Biz.Common")["TopNavBar"] = {objEven: function (o) {var obj = jQuery(o);this.delayHover = function () {if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {if (window.location.href.indexOf("?mobile") < 0) {try {obj = obj.children('a');obj.click(function () {var self = jQuery(this);if (self.parent().hasClass('nav-x-is-active')) {self.parent().removeClass('nav-x-is-active');} else {self.parent().addClass('nav-x-is-active').siblings().removeClass('nav-x-is-active');}return false;});}catch (e) { }}} else {var timer1, timer2;obj.mouseenter(function (e) {var self = jQuery(this);if (self.hasClass('nav-x-is-active')) {if (timer2) clearTimeout(timer2);} else {timer1 = setTimeout(function () {self.addClass('nav-x-is-active').siblings().removeClass('nav-x-is-active');var title = self.children('.nav-x-title');var menu = self.children('.nav-x-menu');if (menu.width() < (title.width() + 8)) {var leftPosi = (title.offset().left + title.width() - menu.width()) + 20;menu.offset({ left: leftPosi });}}, 350);}}).mouseleave(function (e) {if (timer1) {var self = jQuery(this);clearTimeout(timer1);if (self.hasClass('nav-x-is-active')) {timer2 = setTimeout(function () {self.removeClass('nav-x-is-active');}, 888);}}});}}},objEven2016: function (o) {var obj = jQuery(o);this.delayHover = function () {if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {if (window.location.href.indexOf("?mobile") < 0) {try {obj = obj.children('a');obj.click(function () {var self = jQuery(this);if (self.parent().hasClass('is-active')) {self.parent().removeClass('is-active');} else {self.parent().addClass('is-active').siblings().removeClass('is-active');}return false;});}catch (e) { }}} else {var timer1, timer2;obj.mouseenter(function (e) {var self = jQuery(this);if (self.hasClass('is-active')) {if (timer2) clearTimeout(timer2);} else {timer1 = setTimeout(function () {self.addClass('is-active').siblings().removeClass('is-active');var title = self.children('.nav-x-title');var menu = self.children('.nav-x-menu');if (menu.width() < (title.width() + 8)) {var leftPosi = (title.offset().left + title.width() - menu.width()) + 20;menu.offset({ left: leftPosi });}}, 350);}}).mouseleave(function (e) {if (timer1) {var self = jQuery(this);clearTimeout(timer1);if (self.hasClass('is-active')) {timer2 = setTimeout(function () {self.removeClass('is-active');}, 888);}}});}}}};usingNamespace("Biz.Common")["SiteCatalyst"] = (function () {var cachingParms = {};var getParms = function () {var result = {};var nvtcRegex = new RegExp(Web.StateManager.Cookies.Name.NVTC + "=([\\d\\.A-Za-z]*)");var nvtcMatch = nvtcRegex.exec(document.cookie);var nvtc;if (nvtcMatch && nvtcMatch.length > 1) {nvtc = nvtcMatch[1];}result.nvtcValue = nvtc;var utmaRegex = new RegExp(Web.StateManager.Cookies.Name.UTMA + "=([\\d\\.]*)");var utmaMatch = utmaRegex.exec(document.cookie);var utma;if (utmaMatch && utmaMatch.length > 1) {utma = utmaMatch[1];}result.utmaValue = utma;return result;},mergeParms = function (obj1, obj2) {var result = {};for (prop in obj2)result[prop] = obj2[prop];for (prop in obj1)result[prop] ? void (0) : result[prop] = obj1[prop];return result;},sendToAdobe = function (parms) {if (typeof (s) != 'undefined') {var regionCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "RegionCode");var currencyCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "CurrencyCode");if (regionCode) s.prop12 = s.eVar51 = regionCode;if (currencyCode) s.currencyCode = s.prop13 = s.eVar52 = currencyCode.toUpperCase();if (parms.serverName) s.server = parms.serverName;if (parms.customId) s.eVar22 = parms.customId;if (parms.nvtcValue) s.prop19 = parms.nvtcValue;if (parms.utmaValue) s.prop24 = parms.utmaValue;if (parms.cmPageName) s.prop11 = parms.cmPageName;parms.pageName ? s.pageName = parms.pageName : (parms.cmPageName ? s.pageName = parms.cmPageName : void (0));if (parms.brandName) { s.prop25 = parms.brandName; s.eVar47 = parms.brandName; }if (parms.events) s.events = parms.events;if (parms.products) {if (parms.directUseProducts) {s.products = ";" + parms.products;}else {s.products = ";" + neweggItemNumber2ItemNumber(parms.products);}}else {if (s.products && s.products.indexOf(';') == 0) {s.products = ";" + neweggItemNumber2ItemNumber(s.products.substring(1));}}if (parms.isfreeshipping) s.eVar44 = parms.isfreeshipping;if (parms.sellerName) s.eVar45 = parms.sellerName;if (parms.finalPrice) s.eVar76 = parms.finalPrice;if (parms.pageType) {var pageTypes = parms.pageType.split(";");var length = pageTypes.length;if (length > 0) s.prop1 = pageTypes[0];if (length > 1) s.prop23 = pageTypes[0] + ":" + pageTypes[1];}if (parms.searchKeyWord) s.prop4 = parms.searchKeyWord;if (parms.searchResult) s.prop5 = parms.searchResult;if (parms.searchType) s.eVar18 = parms.searchType;if (parms.engine) { s.eVar71 = s.prop71 = parms.engine; }if (parms.refinementType) s.prop16 = s.eVar16 = parms.refinementType;if (parms.refinementValue) s.prop17 = s.eVar17 = parms.refinementValue;if (parms.attachKeywordProfileInfo) { s.eVar64 = parms.attachKeywordProfileInfo; }var categories;if (parms.eVar1) s.eVar1 = parms.eVar1;if (parms.tabStore) s.eVar4 = s.channel = parms.tabStore;else { s.eVar4 = s.channel = s.prop1; }if (parms.categoryStore) {categories = parms.categoryStore.split(";");if (categories.length > 1) {s.eVar5 = s.prop2 = s.channel + " : " + categories[0];s.eVar6 = s.prop3 = s.prop2 + " : " + categories[1];}else { s.eVar5 = s.prop2 = s.channel + " : " + parms.categoryStore; }}else if (!parms.categoryStore && parms.subcategoryStore)s.eVar6 = s.prop3 = s.eVar5 = s.prop2 = s.channel + " : " + parms.subcategoryStore;else { s.eVar6 = s.prop3 = s.eVar5 = s.prop2 = s.channel; }if (parms.subcategoryStore && !s.prop3)s.eVar6 = s.prop3 = s.prop2 + " : " + parms.subcategoryStore;else if (!parms.subcategoryStore)s.eVar6 = s.prop3 = s.prop2 ? s.prop2 : s.channel;if (parms.moreThan3level) {if (categories.length > 1) {var length = categories.length;var temp = s.prop3;for (var i = 2; i < length; i++) {temp += " : " + categories[i];}temp += " : " + parms.subcategoryStore;s.eVar46 = s.prop22 = temp;}else { s.eVar46 = s.prop22 = s.prop2 + " : " + parms.subcategoryStore; }}if (scp.shoppingCartStatus) s.events = scp.shoppingCartStatus;if (scp.shoppingProducts) {var products = scp.shoppingProducts.split(",");var temp = products.join(",;");temp = ";" + temp;s.products = temp;}try {var s_code = s.t();sentToPacketBeat(s);if (s_code) { document.write(s_code); }} catch (eee) { }}},cacheParms = function (parms) {if (parms.pageNickName) {cachingParms.pageNickName = parms.pageNickName;delete parms.pageNickName;}if (parms.pageName) cachingParms.pageName = parms.pageName;},sendToCache = function (parms) {for (prop in parms) {if (parms[prop]) {if (!cachingParms[prop]) {cachingParms[prop] = parms[prop];} else {cachingParms[prop] += "|" + parms[prop];}}}};return {send: function (siteCatalystParms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;cacheParms(siteCatalystParms);var parmsByJs = getParms();var parms = mergeParms(siteCatalystParms, parmsByJs);sendToAdobe(parms);},sendForSellerSwitch: function (parms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;parms.cmPageName = cachingParms.pageNickName + ":" + parms.cmProductName;delete parms.cmProductName;var index = cachingParms.pageName.lastIndexOf("Item#:");parms.pageName = cachingParms.pageName.substring(0, index + 6) + parms.products;sendToAdobe(parms);},sendForOnClick: function (parms, name) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;if (typeof (s) != 'undefined') {s.linkTrackVars = '';s.linkTrackEvents = '';s.events = '';var regionCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "RegionCode");var currencyCode = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "CurrencyCode");if (regionCode) parms.prop12 = parms.eVar51 = regionCode;if (currencyCode) parms.currencyCode = parms.prop13 = parms.eVar52 = currencyCode.toUpperCase();var trackVars = [];if (s.prop19 != undefined) {trackVars.push('prop19')}if (s.prop23 != undefined) {trackVars.push('prop23')}if (parms.eVar1) s.eVar1 = parms.eVar1;for (prop in parms) {trackVars.push(prop);if (prop == 'events') {s.linkTrackEvents = s.events = parms[prop];}else {if (parms[prop].substring) { parms[prop] = parms[prop].substring(0, 15000); }s[prop] = parms[prop];}}s.linkTrackVars = trackVars.join(',');try {s.tl(this, 'o', name);sentToPacketBeatClick(s, name);} catch (eee) { }}},sendToCache: function (parms) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;sendToCache(parms);},sendCache: function (prop, name) {if (!Web.Config.SiteCatalyst || !Web.Config.SiteCatalyst.Enable) return;if (cachingParms[prop]) {var params = {};params[prop] = cachingParms[prop];Biz.Common.SiteCatalyst.sendForOnClick(params, name);cachingParms[prop] = null;delete cachingParms[prop];}}};})();usingNamespace("Biz.Common")["ShoppingItem"] = {shippingItemLogic: null,extractFromOrderInfo: function () {if (jQuery("#hiddenOrderInfo").length == 1 && jQuery(jQuery("#hiddenOrderInfo")[0]).attr('is-update') == "1") {return jQuery("#hiddenOrderInfo")[0].value.replace(/=\d+/g, "");}return "";},getShoppingCartItemsInfo: function (items) {var length = items.length;var cartinfosArray = [];for (var i = 0; i < length; i++) {if (items[i].item != null && items[i].qty != null) {if (items[i].optional == null) {items[i].optional = "";}cartinfosArray.push(items[i].item + "=" + items[i].qty + items[i].optional);}}return cartinfosArray.join('&');}};var cmPageID;function cmCreateManualPageviewTag() { };function cmCreatePageviewTag() { };function cmCreateTechPropsTag() { };function cmCreateProductviewTag() { };function cmCreateShopAction5Tag() { };function cmCreateShopAction9Tag() { };function cmDisplayShop5s() { };function cmDisplayShop9s() { };function cmCreateOrderTag() { };function cmCreateRegistrationTag() { };function cmCreateErrorTag() { };function cmSetupOther() { };function cmCreatePageElementTag() { };function cmCreateConversionEventTag() { };function cmCreateManualImpressionTag() { };function cmCreateCustomTag() { };function cmCreateManualLinkClickTag() { };function cmCreateElementTag() { };function cmCreateDefaultPageviewTag() { };usingNamespace("Biz.Common")["PageFooter"] = {setLink: function () {var loginID = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID6");if (!String.isNullOrEmpty(loginID)) {jQuery("#trackOrder").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");jQuery("#returnItem").attr("href", Web.Config.Environment.Url.Secure + "NewMyAccount/OrderHistory.aspx");} else {jQuery("#trackOrder").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=1");jQuery("#returnItem").attr("href", Web.Config.Environment.Url.Secure + "Guest/OrderLogin.aspx?Source=2");};}};usingNamespace("Biz.Common")["Swiper"] = {init: function (box) {if (jQuery(box).parents("section[data-bestseller-id='bestseller']").length == 0) {this.setSwiperBoxResponsive(box);}else {this.setSwiperBoxResponsiveForNewTrackOrder(box);}},setSwiperBoxResponsiveForNewTrackOrder: function (box) {var _mDownX;var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,slidesPerGroup: 4,slidesPerView: 4,spaceBetween: 10,breakpoints: {999: {slidesPerGroup: 3,slidesPerView: 3,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},767: {slidesPerGroup: 2,slidesPerView: 2,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},479: {slidesPerGroup: 1,slidesPerView: 1,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}}},onInit: function (swiper) {swiper.sentList = [];Biz.Common.Swiper.processCoreMetricInit(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function (swiper) {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},setSwiperBoxResponsive: function (box) {if (jQuery(box).find('.row-side').length == 0) {this.swiperBoxResponsive5(box);} else {jQuery(box).addClass("customers-also");this.swiperBoxResponsive3(box);}},swiperBoxResponsive3: function (box) {var _mDownX;var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,slidesPerGroup: 3,slidesPerView: 3,spaceBetween: 10,breakpoints: {1920: {slidesPerGroup: 3,slidesPerView: 3,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1360: {slidesPerGroup: 2,slidesPerView: 2,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1100: {slidesPerGroup: 1,slidesPerView: 1,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}}},onInit: function (swiper) {swiper.sentList = [];Biz.Common.Swiper.processCoreMetricInit(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function (swiper) {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},swiperBoxResponsive5: function (box) {var _mDownX;var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,slidesPerGroup: 5,slidesPerView: 5,spaceBetween: 10,breakpoints: {1920: {slidesPerGroup: 5,slidesPerView: 5,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1560: {slidesPerGroup: 4,slidesPerView: 4,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1260: {slidesPerGroup: 3,slidesPerView: 3,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}},1100: {slidesPerGroup: 2,slidesPerView: 2,onProgress: function (swiper) {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);}}},onInit: function (swiper) {swiper.sentList = [];Biz.Common.Swiper.processCoreMetricInit(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function (swiper) {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},setSwiperLoopButton: function (box, swiper) {var fixedBullets = 0;if (typeof swiper != 'undefined' && typeof swiper.snapGrid != 'undefined') {fixedBullets = this.fixSwiperSnapGrid(box, swiper);}var $box = jQuery(box);if ($box.find('.swiper-pagination-bullet').length == 1) {$box.find('.swiper-box-arrow-prev').attr('style', 'display:none');$box.find('.swiper-box-arrow-next').attr('style', 'display:none');$box.find('.swiper-pagination').attr('style', 'display:none');} else {$box.find('.swiper-box-arrow-prev').attr('style', 'display:block');$box.find('.swiper-pagination').attr('style', 'display:block');$box.find('.swiper-box-arrow-next').attr('style', 'display:block');}if ($box.find('.swiper-box-arrow-prev').hasClass('swiper-button-disabled')) {var _n = fixedBullets != 0 ? fixedBullets : $box.find('.swiper-pagination-bullet').length;$box.find('.swiper-box-arrow-prev.swiper-button-disabled').one('click', function () {$box.find('.swiper-pagination-bullet').eq(_n - 1).click();});} else {$box.find('.swiper-box-arrow-prev').unbind('click');}if ($box.find('.swiper-box-arrow-next').hasClass('swiper-button-disabled')) {$box.find('.swiper-box-arrow-next.swiper-button-disabled').one('click', function () {$box.find('.swiper-pagination-bullet').eq(0).click();});} else {$box.find('.swiper-box-arrow-next').unbind('click');}if (typeof swiper != 'undefined' && typeof swiper.sentList != 'undefined') {Biz.Common.Swiper.processCoreMetricOnChange(box, swiper);}},setSwiperLoopDrag: function (box, direction) {var $box = jQuery(box);if (direction == 'prev') {var _n = $box.find('.swiper-pagination-bullet').length;$box.find('.swiper-pagination-bullet').eq(_n - 1).click();} else if (direction == 'next') {$box.find('.swiper-pagination-bullet').eq(0).click();}},getCmDataOnInit: function (box, persCmData) {var wrapper = jQuery(box + ' .swiper-wrapper');var item = wrapper.find('.swiper-slide');var pageCount = Math.floor(wrapper.width() / item.width());var curList = [];var hasSeeAllLink = persCmData[0].itemNumber == "SeeAllLink";if (hasSeeAllLink) {pageCount = pageCount + 1;}var temp = persCmData.length >= pageCount ? pageCount : persCmData.length;for (var i = 0; i < temp; i++) {curList.push(persCmData[i]);}return curList;},getCmDataOnChange: function (box, persCmData, swiper) {var curList = [];var hasSeeAllLink = persCmData[0].itemNumber == "SeeAllLink";var pageCount = swiper.params.slidesPerView;var activeIndex = swiper.snapIndex;var dataCount = hasSeeAllLink ? persCmData.length - 1 : persCmData.length;var temp = (activeIndex + 1) * pageCount - dataCount;if (temp > 0) {for (var q = persCmData.length - pageCount; q < persCmData.length; q++) {if (persCmData[q] && swiper.sentList.indexOf(persCmData[q]) < 0) {curList.push(persCmData[q]);swiper.sentList.push(persCmData[q]);}}} else {var p;for (var k = 0; k < pageCount; k++) {if (activeIndex > 0) {p = activeIndex * pageCount + k;} else {p = k;}p = hasSeeAllLink ? p + 1 : p;if (persCmData[p] && swiper.sentList.indexOf(persCmData[p]) < 0) {curList.push(persCmData[p]);swiper.sentList.push(persCmData[p]);}}}return curList;},processCoreMetricInit: function (box, swiper) {if (Biz.Personalization2016 && Biz.Personalization2016.CoremetricData) {for (var i = 0; i < Biz.Personalization2016.CoremetricData.length; i++) {var persData = Biz.Personalization2016.CoremetricData[i];if (persData && persData.position && box == persData.position) {swiper.sentList = Biz.Common.Swiper.getCmDataOnInit(persData.position, persData.dataList);Biz.Common.Coremetric2016.send(swiper.sentList);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation impression");}}}},processCoreMetricOnChange: function (box, swiper) {if (Biz.Personalization2016 && Biz.Personalization2016.CoremetricData) {for (var i = 0; i < Biz.Personalization2016.CoremetricData.length; i++) {var persData = Biz.Personalization2016.CoremetricData[i];if (persData && persData.position && box == persData.position) {swiper.curSendList = Biz.Common.Swiper.getCmDataOnChange(persData.position, persData.dataList, swiper);Biz.Common.Coremetric2016.send(swiper.curSendList);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation impression");}}}},swiperBoxNoLoop: function (box) {var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,onInit: function () {var $box = jQuery(box);if ($box.find('.swiper-pagination-bullet').length == 1) {$box.find('.swiper-box-arrow-prev').attr('style', 'display:none');$box.find('.swiper-box-arrow-next').attr('style', 'display:none');$box.find('.swiper-pagination').attr('style', 'display:none');}},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function () {this.preventClicks = false;},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;}});},swiperBoxSingle: function (box) {var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,preventClicks: false,onInit: function () {Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onSlideChangeStart: function () {this.preventClicks = true;},onSlideChangeEnd: function () {this.preventClicks = false;Biz.Common.Swiper.setSwiperLoopButton(box, swiper);},onTouchStart: function (swiper, e) {this.preventClicks = true;_mDownX = e.pageX;},onTouchEnd: function (swiper, e) {this.preventClicks = false;var _moveX = _mDownX - e.pageX;if (jQuery(box + ' .swiper-box-arrow-prev').hasClass('swiper-button-disabled') && _moveX < 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'prev'); }, 100);} else if (jQuery(box + ' .swiper-box-arrow-next').hasClass('swiper-button-disabled') && _moveX > 0) {setTimeout(function () { Biz.Common.Swiper.setSwiperLoopDrag(box, 'next'); }, 100);}}});},swiperBoxAuto: function (box) {var swiper = new Swiper(box + ' .swiper-container', {pagination: box + ' .swiper-pagination',prevButton: box + ' .swiper-box-arrow-prev',nextButton: box + ' .swiper-box-arrow-next',paginationClickable: true,slidesPerView: 'auto',spaceBetween: 30,onTransitionEnd: function () {if (swiper.isEnd) {jQuery(box + ' .swiper-slide-last').addClass('active');jQuery(box).addClass('swiper-unclickable');jQuery(box + '.swiper-unclickable').one('click', function () {var _n = swiper.slides.length;swiper.slideTo(_n - 2);jQuery(box).removeClass('swiper-unclickable');});} else {jQuery(box + ' .swiper-slide-last.active').removeClass('active');}},});},fixSwiperSnapGrid: function (box, swiper) {var $box = jQuery(box);var itemCount = swiper.slides.length;var pageCount = swiper.params.slidesPerView;var fixedBullets = Math.ceil(itemCount / pageCount);var originalBullets = swiper.snapGrid.length;if (originalBullets > fixedBullets) {var arr = $box.find('.swiper-pagination-bullet');jQuery(arr[arr.length - 1]).remove();var len = swiper.snapGrid.length;var lastGrid = Math.ceil(swiper.snapGrid[len - 1]);var realLastGrid = Math.ceil(swiper.snapGrid[len - 1 - 1]);if (realLastGrid == lastGrid) {swiper.snapGrid.length -= 1;}}return swiper.snapGrid.length;}};usingNamespace("Biz.Common")["ReCaptchaManager"] = (function (sitekey) {var captchaManager = {currentId: 0};var captchaMap = {};var has = function (captchaId) {return captchaMap.hasOwnProperty(captchaId);};var add = function (captchaId, onInit, onReset, onResponse) {captchaManager.currentId = captchaId;captchaMap[captchaId] = {};captchaMap[captchaId].onInit = onInit;captchaMap[captchaId].onReset = onReset;captchaMap[captchaId].onResponse = onResponse;};captchaManager.createWidget = function (captchaId) {captchaMap[captchaId].widgetId = grecaptcha.render(captchaId, {'sitekey': sitekey,'callback': captchaMap[captchaId].onResponse,'expired-callback': function () {grecaptcha.reset(captchaMap[captchaId].widgetId);captchaMap[captchaId].onReset();}});if (!!captchaMap[captchaId].onInit) {captchaMap[captchaId].onInit();}};captchaManager.createCaptcha = function (captchaId, onInit, onReset, onResponse) {if (has(captchaId)) {onInit(captchaId);return;}add(captchaId, onInit, onReset, onResponse);if (!!window.grecaptcha) {this.createWidget(captchaId);return;}var grc = document.createElement('script');grc.type = 'text/javascript';grc.src = 'https://www.google.com/recaptcha/api.js?onload=captchaJSCallback&render=explicit';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(grc);};return captchaManager;})(window.Web.Config.recaptchaKey);function captchaJSCallback() {var captchaManager = Biz.Common.ReCaptchaManager;captchaManager.createWidget(captchaManager.currentId);}function AskSellerCaptcha(contentId) {var clear = function () {jQuery('#' + this.id).remove();};var disableSubmit = function () {console.log('disable submit of ' + contentId);var askSellerSubmit = jQuery('#modal1 #ask-seller-submit-' + contentId);askSellerSubmit.css('cursor', 'default');askSellerSubmit.css('color', 'gray');askSellerSubmit.unbind('click');};var callback = function (response) {jQuery('#modal1 #recaptchaResponse' + contentId).val(response);var askSellerSubmit = jQuery('#modal1 #ask-seller-submit-' + contentId);askSellerSubmit.css('cursor', 'pointer');askSellerSubmit.css('color', '#222');askSellerSubmit.bind('click', function () {Biz.Product.AskSeller.Submit('askSellerIdForm_' + contentId);});};this.id = 'g-recaptcha-' + (new Date()).getTime();this.show = function () {clear();jQuery('#modal1 #li-anti-spam-' + contentId).append('<div id="' + this.id + '"></div>');Biz.Common.ReCaptchaManager.createCaptcha(this.id, disableSubmit, disableSubmit, callback);};}function prepareAskSellerCaptcha(contentId) {var captcha = new AskSellerCaptcha(contentId);captcha.show();}function neweggItemNumber2ItemNumber(product) {if (product) {try {var wi = Web.UI.Items;var l = wi.neweggItemNumber.length;var productstr = product.toLowerCase();if (wi.isNeweggItem(productstr) && productstr.length >= (l + 8)) {if (wi.isLongFormatDVDItem1(productstr)) {return productstr.substring(l, productstr.length - 2);}else if (wi.isLongFormatDVDItem2(productstr)|| wi.isLongFormatNewOpenBoxItem(productstr)|| wi.isLongFormatSFItem(productstr)|| wi.isLongFormatTSItem(productstr)) {return productstr.substring(l);}else if (wi.isLongFormatINItem(productstr)) {return productstr.substring(l, l + 2) + "-" + productstr.substring(l + 2, l + 6) + "-in";}else {return productstr.substring(l, l + 2) + "-" + productstr.substring(l + 2, l + 5) + "-" + productstr.substring(l + 5);}} else {return productstr;}} catch (e) {return "";}} else {return "";}};NEG.domReady(function () {NEG.run(function (require) {var jQuery = require("NEG.ThirdParty.JQuery");var itemImageClassName = [".item-container .item-img img", ".objImages .mainSlide img"];var bannerImageClassName = ["#heroModule li img", ".img-banners-box img", ".banner-area-banners img", ".tile-img img"];var itemImageMark = "ex=2";var bannerImageMark = "@2x";var keepOrigionSize = function (image) {if (image.offsetWidth > 0 && image.offsetHeight > 0) {image.setAttribute("width", image.offsetWidth);image.setAttribute("height", image.offsetHeight);} else {image.setAttribute("width", image.naturalWidth);image.setAttribute("height", image.naturalHeight);}return image;};var loadImage = function (image, src, positionflag) {var isImage = image.nodeName.toLowerCase() === 'img';var hdsrc = getRetinaImageUrl(src, positionflag);var virtualImage = document.createElement("img");virtualImage.addEventListener("load", function () {if (isImage) {keepOrigionSize(image).setAttribute("src", hdsrc);}});virtualImage.setAttribute("src", hdsrc);image.setAttribute("is-retina", true);};var getRetinaImageUrl = function (src, positionflag) {if (positionflag) {var stringArr = src.split(".");stringArr[stringArr.length - 2] = stringArr[stringArr.length - 2] + bannerImageMark;return stringArr.join(".");}return src + (src.indexOf("?") > -1 ? "&" : "?") + itemImageMark;};var insteadImage = function (classNameArray, positionflag) {for (var i = 0; i < classNameArray.length; i++) {var images = jQuery(classNameArray[i]);if (images.length > 0) {for (var j = 0; j < images.length; j++) {if (images[j].src.indexOf("blank.gif") > -1 && images[j].dataset && images[j].dataset.src) { images[j].setAttribute("data-src", getRetinaImageUrl(images[j].dataset.src)); continue; }loadImage(images[j], images[j].src, positionflag);}}}};var hasWindow = window ? true : false;var isRetina = hasWindow ? window.devicePixelRatio > 1 : false;if (isRetina) {insteadImage(itemImageClassName);insteadImage(bannerImageClassName, true);}});});usingNamespace("Biz.Common")["ImageLazyLoadMgr"] = (function () {var loadImage = function (img, src, dist, type) {var img$ = jQuery(img),isImage = img.nodeName.toLowerCase() === 'img',virtualImage = document.createElement('img');if (isImage) {virtualImage.addEventListener('load', function () {img$.hide();img.setAttribute("src", dist);img.setAttribute(type, true);var effect = img.dataset.effect;if (Object.prototype.toString.apply(img$[effect]) === "[object Function]") {img$[effect](200);}img$.show();});virtualImage.addEventListener('error', function () {img.setAttribute("src", dist);img.setAttribute(type, false);});virtualImage.setAttribute("src", dist);}};NEG.domReady(function () {NEG.run(function (require) {var $ = require("NEG.ThirdParty.JQuery"),viewport = require("NEG.Widget.Viewport");var list = $('img.lazy-img').toArray();viewport(list).on('FIRSTIN', function () {loadImage(this, this.src, this.dataset.src, "data-is-lazy-loaded");});window.scrollBy(1, 1);});});})();function prepareMiniCartInfo(isNeweggSite, isUnlockedSite) {var processBizLogic = function (response) {if (isNeweggSite) {Biz.Common.TopNavigation.cartPageHeader2015(response);} else {var getCartCount = function () {var cartInfo = "";if (response != null) {cartInfo = !response.UseCookie ? response.ItemPrice.decodeCookieURI().encodeHtml() : Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();}var temp = /(\d*) \w*/.exec(cartInfo);var count = (temp && temp[1]) || 0;if (count > 0 && isUnlockedSite) {jQuery("#link").css('background-color', '#b8551b');}jQuery("#itemCount").text(count);};getCartCount();}if (response != null && !response.UseCookie && !response.ajaxGetDataFail) {var orderInfo = response.FormattedOrderItems;if (jQuery("#hiddenOrderInfo").length == 1) {jQuery("#hiddenOrderInfo")[0].value = orderInfo;jQuery(jQuery("#hiddenOrderInfo")[0]).attr('is-update', 1);}}};if (Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC) === "") {var tempResponse = new Object();tempResponse.ajaxGetDataFail = true;processBizLogic(tempResponse);}else {if (!Web.Config.Environment.SyncShoppingCart.MinicartServiceEnable) {if (isNeweggSite) {Biz.Common.TopNavigation.cartPageHeader2015();} else {var getCartCount = function () {var cartInfo = "";cartInfo = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CART).encodeHtml();var temp = /(\d*) \w*/.exec(cartInfo);var count = (temp && temp[1]) || 0;if (count > 0 && isUnlockedSite) {jQuery("#link").css('background-color', '#b8551b');}jQuery("#itemCount").text(count);};getCartCount();}return;}var reqUrl = Web.Config.Environment.SyncShoppingCart.ItemPriceLink;var cfg = Web.StateManager.Cookies.Name.CFG;var currentRegionCode = Web.StateManager.Cookies.get(cfg, "RegionCode");currentRegionCode = currentRegionCode ? currentRegionCode : "USA";var mc_currencyCode = Web.StateManager.Cookies.get(cfg, "CurrencyCode");var mc_countryCode = Web.Config.SiteCookieInfo.bizUnit;var mc_host = "";if (window) {mc_host = window.location.host;mc_host = mc_host ? mc_host.toLowerCase() : "";}if (window.location.pathname.indexOf("CartForGameCrate.aspx") > 0|| mc_host == "help.newegg.com") {mc_countryCode = "USA";currentRegionCode = "USA";mc_currencyCode = "USD";}else {mc_countryCode = mc_countryCode ? mc_countryCode : "USA";if (mc_countryCode == "CAN") {currentRegionCode = "CAN";mc_currencyCode = "CAD";}}var postData = {rawDeviceId: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.NVTC),loginId4: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "LOGINID4"),countryCode: mc_countryCode,regionCode: currentRegionCode,currencyCode: mc_currencyCode,s123: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.LOGIN, "s123"),SPT: Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.SPT)};jQuery.ajax({type: "POST",crossDomain: true,url: reqUrl,data: { MiniCartRequestData: JSON.stringify(postData) },dataType: "json",}).done(function (response) {if (response == null) {response = new Object();response.ajaxGetDataFail = true;}processBizLogic(response);}).fail(function () {var tempResponse = new Object();tempResponse.ajaxGetDataFail = true;processBizLogic(tempResponse);});}}usingNamespace("Biz.Common")["MappingPrice"] = {add: function (link) {window.location.href = link;}};usingNamespace("Biz.Common")["PageScroll"] = {getPageScroll: function () {var xScroll, yScroll;if (self.pageYOffset) {yScroll = self.pageYOffset;xScroll = self.pageXOffset;} else if (document.documentElement && document.documentElement.scrollTop) {yScroll = document.documentElement.scrollTop;xScroll = document.documentElement.scrollLeft;} else if (document.body) {yScroll = document.body.scrollTop;xScroll = document.body.scrollLeft;}return new Array(xScroll, yScroll);},setBoxFixed: function (o) {var $box = jQuery(o);var _b_H = $box.outerHeight(true);var _b_T = $box.offset().top;if (!$box.parent('.bar-placeholder').get(0)) {$box.wrap('<div class="bar-placeholder" style="height: ' + _b_H + 'px;"></div>');}var $wrap = $box.parent().parent();if (_b_H >= $wrap.outerHeight(true)) {$wrap.css('position', 'relative');} else {jQuery(window).scroll(function () {var _w_T = $wrap.offset().top;var _w_H = $wrap.outerHeight(true);var _w_W = $wrap.outerWidth(true);var _s_T = Biz.Common.PageScroll.getPageScroll()[1];if (_s_T >= _w_T + _w_H - _b_H) {$box.css({position: "absolute",top: "auto",bottom: "0",width: _w_W});} else if (_s_T <= _b_T) {$box.css({position: "relative",top: "auto",bottom: "auto",width: "auto"});} else {$box.css({position: "fixed",top: "0",bottom: "auto",width: _w_W});}}).resize(function () {var t = setTimeout(function () {_w_W = $wrap.width();$box.css({width: _w_W});}, 500);});}}};usingNamespace("Biz.Common")["GDPR"] = {mustCheckGDPR: false,isSupportSessionStorage: function () {try {sessionStorage.setItem('s_writeGdpr', '1');sessionStorage.removeItem('s_writeGdpr');return true;} catch (x) {return false;}},fillZeroForGDPR: function (number) {if (number == '') {return number;}number = String(number);var length = number.length;if (number.length < 3) {for (var i = 0; i < 3 - length; i++) {number = "0" + number;}}return number;},saveGDPR: function (val) {NEG.run(function (require) {var cookieMapping = Web.Config.CookieMapping[Web.StateManager.Cookies.Name.GDPR];var option = {};if (null != cookieMapping) {if (cookieMapping[0] && cookieMapping[0].length > 0) {option.domain = cookieMapping[0];}if (cookieMapping[1] != null) {var nowDate = new Date();var afterDate = cookieMapping[1] * 1000;if (afterDate == 0) {afterDate = 30 * 365 * 24 * 60 * 60 * 1000;}var expireDate = new Date(nowDate.getTime() + afterDate);option.exp = expireDate.toGMTString();}if (String.isNullOrEmpty(cookieMapping[2])) {option.path = "/";} else {option.path = cookieMapping[2];}if (Boolean.parse(cookieMapping[3])) {option.secure = cookieMapping[3];}}var cookieUtility = require("Utility.Cookie");cookieUtility.set(Web.StateManager.Cookies.Name.GDPR, Biz.Common.GDPR.fillZeroForGDPR(val), option);});},checkNecessary: function (noNeedCheckIP) {this.mustCheckGDPR = noNeedCheckIP;},checkGDPRNecessary: function (isSkipCCPA) {var tempMustCheckGDPR = this.mustCheckGDPR;Biz.Common.MyCountry(true, function (data) {try {if (utag_data && utag_data.site_state == undefined && data && data.CA != undefined) {utag_data.site_state = data.CA;}} catch(eee){ }if (Web.Config.CCPAEnable && data && data.CA) {if (isSkipCCPA) {return;}jQuery('#policyAgreementUrl').after("| <a href=\"https://kb.newegg.com/knowledge-base/privacy-policy-o/#for-california-residents-only\" target=\"_blank\" rel=\"nofollow\" id=\"ccpaKB\">Do Not Sell My Personal Information</a>");jQuery('#GDPRSpan').hide();return;}if (Web.Config.GDPR && Web.Config.GDPR.Enable == true) {var expressionForGDPR = /^[01]+$/;var beforeCheckVal = Web.StateManager.Cookies.getNoCache(Web.StateManager.Cookies.Name.GDPR);if (!beforeCheckVal.match(expressionForGDPR)) {Biz.Common.GDPR.saveGDPR('');}if (tempMustCheckGDPR) {jQuery('#GDPRSpan').show();if (Biz.Common.GDPR.bitQuery(1) == 0) {jQuery('#global-gdpr-Popup-MKT').click();}} else {if (Biz.Common.GDPR.isSupportSessionStorage() && sessionStorage.getItem('isEuForGDDPR')) {if (sessionStorage.getItem('isEuForGDDPR') == "1") {jQuery('#GDPRSpan').show();if (Biz.Common.GDPR.bitQuery(1) == 0) {jQuery('#global-gdpr-Popup-MKT').click();}}}else {Biz.Common.MyCountry(true, function (data) {if (Biz.Common.GDPR.isSupportSessionStorage()) {sessionStorage.setItem('isEuForGDDPR', data.eu);}if (data.eu == "1") {jQuery('#GDPRSpan').show();if (Biz.Common.GDPR.bitQuery(1) == 0) {jQuery('#global-gdpr-Popup-MKT').click();}}});}}}});},setCCPABannerFlag: function () {var match = location.host.match(/\w+\.(\w+[\.\w+]+)/);var domain;if (match && match.length > 1) {domain = "." + match[1];}var expireDate = new Date();expireDate.setFullYear(expireDate.getFullYear() + 30);document.cookie = "NV%5FCCPA=1; domain=" + domain + "; expires=" + expireDate.toGMTString() + "; path=/";jQuery('#ccpaBannerDiv').fadeOut()},saveNecessary: function () {var newGDPR = Biz.Common.GDPR.bitOperation(true, 1);Biz.Common.GDPR.saveGDPR(newGDPR);},saveMarketing: function (isChecked) {Biz.Common.GDPR.saveNecessary();var newGDPR = Biz.Common.GDPR.bitOperation(isChecked, 2);Biz.Common.GDPR.saveGDPR(newGDPR);},saveThirdParty: function (isChecked, isCheckedMarketing) {if (isCheckedMarketing != undefined) {Biz.Common.GDPR.saveMarketing(isCheckedMarketing);} else {Biz.Common.GDPR.saveNecessary();}var newGDPRForThirdParty = Biz.Common.GDPR.bitOperation(isChecked, 3);Biz.Common.GDPR.saveGDPR(newGDPRForThirdParty);},bitQuery: function (position) {var newPositionVal = Math.pow(10, position - 1);var gdpr = Web.StateManager.Cookies.getNoCache(Web.StateManager.Cookies.Name.GDPR);return Math.floor((gdpr / newPositionVal) % 10);},bitOperation: function (isChecked, position) {var oldGDPR = Web.StateManager.Cookies.getNoCache(Web.StateManager.Cookies.Name.GDPR);var newPositionVal = 1 << (position - 1);if (isChecked == true) {var result = oldGDPR | (newPositionVal.toString(2));return result;} else if (isChecked == false) {var result = ~(~oldGDPR | (newPositionVal.toString(2)));return result;} else {return oldGDPR;}},sendLog: function () {if (Web.Config.GDPR && Web.Config.GDPR.EnbaleLog == true) {Biz.Common.MyCountry(true, function (data) {var reqUrl = Web.Config.Environment.Url.Secure + "Common/Ajax/GDPRLogCookieOptions.aspx?IPCountryCode=" + data.cyc;jQuery.ajax({type: "GET",dataType: "jsonp",url: reqUrl});});}},saveUserOptionForNecAndMkt: function (isChecked) {Biz.Common.GDPR.saveMarketing(isChecked);Biz.Common.GDPR.sendLog();},saveUserOptionForTrd: function (isChecked) {Biz.Common.GDPR.saveThirdParty(isChecked);Biz.Common.GDPR.sendLog();},saveUserOptionForNecAndMktAndTrd: function (mktIsChecked, trdIsChecked) {Biz.Common.GDPR.saveThirdParty(trdIsChecked, mktIsChecked);Biz.Common.GDPR.sendLog();},popupInitForAll: function (mktId, trdId) {if (mktId != undefined && mktId != '') {if (Biz.Common.GDPR.bitQuery(2) == 1) {jQuery('.centerPopup,.is-current').find('#' + mktId).attr("checked", true);} else {jQuery('.centerPopup,.is-current').find('#' + mktId).attr("checked", false);}}if (trdId != undefined && trdId != '') {if (Biz.Common.GDPR.bitQuery(3) == 1) {jQuery('.centerPopup,.is-current').find('#' + trdId).attr("checked", true);} else {jQuery('.centerPopup,.is-current').find('#' + trdId).attr("checked", false);}}},callBack: null,global_gdpr_popup_mkt_click: function () {Biz.Common.GDPR.saveUserOptionForNecAndMkt(jQuery('.centerPopup,.is-current').find('#popup-mkt-gdpr-marketing').is(':checked'));},global_gdpr_popup_trd_click: function () {Biz.Common.GDPR.saveUserOptionForTrd(jQuery('.centerPopup,.is-current').find('#popup-trd-gdpr-trd').is(':checked'));if (this.callBack && typeof this.callBack == "function") {this.callBack();this.callBack = null;}},global_gdpr_popup_all_click: function () {var mktChecked = jQuery('.centerPopup,.is-current').find('#popup-all-gdpr-marketing').is(':checked');var trdChecked = jQuery('.centerPopup,.is-current').find('#popup-all-gdpr-third').is(':checked');Biz.Common.GDPR.saveUserOptionForNecAndMktAndTrd(mktChecked, trdChecked);},global_gdpr_popup_trd_checkBoxChange: function () {if (jQuery('.centerPopup,.is-current').find('#popup-trd-gdpr-trd').is(':checked')) {jQuery('.centerPopup,.is-current').find('#popup-trd-gdpr-submit').attr('disabled', false);} else {jQuery('.centerPopup,.is-current').find('#popup-trd-gdpr-submit').attr('disabled', true);}}};NEG.domReady(function () {var isMobile = /AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent));if (isMobile) { jQuery("body").addClass("NEG-Mobile"); }});Biz.Common.NVTC.check();